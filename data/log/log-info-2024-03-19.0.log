24-03-19.10:00:14.800 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 22988 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.10:00:14.802 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.10:00:15.898 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.10:00:15.910 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.10:00:15.912 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.10:00:15.913 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.10:00:15.975 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.10:00:15.976 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1112 ms
24-03-19.10:00:17.073 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.10:00:17.095 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.10:00:17.103 [main            ] INFO  Application            - Started Application in 3.063 seconds (process running for 4.093)
24-03-19.10:00:22.023 [http-nio-8091-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-03-19.10:00:22.023 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-03-19.10:00:22.024 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 1 ms
24-03-19.10:00:22.071 [http-nio-8091-exec-1] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw开始 <xml><ToUserName><![CDATA[gh_be110517359f]]></ToUserName>
<FromUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></FromUserName>
<CreateTime>1710813620</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[123123]]></Content>
<MsgId>24492963826573486</MsgId>
</xml>
24-03-19.10:00:22.274 [http-nio-8091-exec-1] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw完成 <xml>
  <ToUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></ToUserName>
  <FromUserName><![CDATA[gh_be110517359f]]></FromUserName>
  <CreateTime>1710813622</CreateTime>
  <MsgType><![CDATA[text]]></MsgType>
  <Content><![CDATA[您的验证码为: 7783 有效时间 3 分钟！]]></Content>
</xml>
24-03-19.15:45:57.364 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 6252 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.15:45:57.366 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.15:45:58.463 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.15:45:58.473 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.15:45:58.475 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.15:45:58.475 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.15:45:58.538 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.15:45:58.539 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1118 ms
24-03-19.15:45:59.528 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.15:45:59.534 [main            ] WARN  AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
24-03-19.15:45:59.551 [main            ] INFO  ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
24-03-19.15:45:59.566 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8091 was already in use.

Action:

Identify and stop the process that's listening on port 8091 or configure this application to listen on another port.

24-03-19.15:46:34.788 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 15400 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.15:46:34.790 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.15:46:35.782 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.15:46:35.791 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.15:46:35.793 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.15:46:35.794 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.15:46:35.849 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.15:46:35.849 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1008 ms
24-03-19.15:46:36.820 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.15:46:36.842 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.15:46:36.849 [main            ] INFO  Application            - Started Application in 2.642 seconds (process running for 3.376)
24-03-19.15:51:13.429 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 17848 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.15:51:13.431 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.15:51:14.466 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.15:51:14.478 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.15:51:14.481 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.15:51:14.482 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.15:51:14.541 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.15:51:14.542 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1062 ms
24-03-19.15:51:15.495 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.15:51:15.514 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.15:51:15.522 [main            ] INFO  Application            - Started Application in 2.73 seconds (process running for 3.474)
24-03-19.15:52:16.473 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 3084 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.15:52:16.475 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.15:52:17.440 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.15:52:17.449 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.15:52:17.453 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.15:52:17.453 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.15:52:17.508 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.15:52:17.509 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 982 ms
24-03-19.15:52:18.392 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.15:52:18.412 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.15:52:18.419 [main            ] INFO  Application            - Started Application in 2.526 seconds (process running for 3.276)
24-03-19.16:00:39.271 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 29680 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.16:00:39.273 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.16:00:40.253 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.16:00:40.263 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.16:00:40.264 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.16:00:40.265 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.16:00:40.318 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.16:00:40.318 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 995 ms
24-03-19.16:00:41.203 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.16:00:41.222 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.16:00:41.230 [main            ] INFO  Application            - Started Application in 2.534 seconds (process running for 3.248)
24-03-19.16:08:06.688 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 10072 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.16:08:06.690 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.16:08:07.712 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.16:08:07.722 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.16:08:07.725 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.16:08:07.726 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.16:08:07.782 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.16:08:07.783 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1045 ms
24-03-19.16:08:08.706 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.16:08:08.726 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.16:08:08.734 [main            ] INFO  Application            - Started Application in 2.758 seconds (process running for 3.63)
24-03-19.16:16:53.144 [http-nio-8091-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-03-19.16:16:53.145 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-03-19.16:16:53.146 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 1 ms
24-03-19.16:16:53.349 [http-nio-8091-exec-2] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"请问有什么需要帮助的吗？","role":"system"},{"content":"打电话给17633811","role":"user"}]
24-03-19.16:16:53.367 [http-nio-8091-exec-2] ERROR AbstractAuthService    - jwt isVerify Err
com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: HmacSHA256
	at com.auth0.jwt.algorithms.HMACAlgorithm.verify(HMACAlgorithm.java:55)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:299)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:283)
	at cn.wang.chatgpt.data.domain.auth.service.AbstractAuthService.isVerify(AbstractAuthService.java:112)
	at cn.wang.chatgpt.data.domain.auth.service.AuthService.checkToken(AuthService.java:47)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:46)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:17:12.325 [http-nio-8091-exec-3] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw开始 <xml><ToUserName><![CDATA[gh_be110517359f]]></ToUserName>
<FromUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></FromUserName>
<CreateTime>1710836231</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[123]]></Content>
<MsgId>24493286724783567</MsgId>
</xml>
24-03-19.16:17:12.526 [http-nio-8091-exec-3] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw完成 <xml>
  <ToUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></ToUserName>
  <FromUserName><![CDATA[gh_be110517359f]]></FromUserName>
  <CreateTime>1710836232</CreateTime>
  <MsgType><![CDATA[text]]></MsgType>
  <Content><![CDATA[您的验证码为: 1422 有效时间 3 分钟！]]></Content>
</xml>
24-03-19.16:17:25.327 [http-nio-8091-exec-4] INFO  AuthController         - 鉴权登录检验开始，验证码：1422
24-03-19.16:17:25.388 [http-nio-8091-exec-4] INFO  AuthController         - 鉴权登录校验完成，验证码：1422 结果：{"code":"0000","info":"验证成功","openId":"o8cXL6LbN8VYAlQ8_PdmdFTLwsNw","token":"eyJhbGciOiJIUzI1NiJ9.eyJvcGVuSWQiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwianRpIjoiOWRhMDM5NzYtYzkyOS00ZTIxLWIzZDQtMjUxYjE1OTA5MDg3IiwiaWF0IjoxNzEwODM2MjQ1LCJzdWIiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwiZXhwIjoxNzExNDQxMDQ1fQ.Di_qShj8XAmquFfgJ6uy5I3m-IkBeQVvF2kjCJ_eACQ"}
24-03-19.16:17:33.610 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"打电话给17633811","role":"user"},{"content":"0003","role":"system"},{"content":"打电话给17633811","role":"user"}]
24-03-19.16:17:33.644 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:17:33.657 [http-nio-8091-exec-6] INFO  SensitiveWordConfig    - 检测到敏感词：电话
24-03-19.16:17:33.657 [http-nio-8091-exec-6] INFO  SensitiveWordConfig    - 检测到敏感词：电话
24-03-19.16:17:33.658 [http-nio-8091-exec-6] ERROR ChatGPTAIServiceController - 流式应答，请求模型：glm-4v 发生异常
cn.wang.chatgpt.data.types.exception.ChatGPTException: 未知失败
	at cn.wang.chatgpt.data.domain.openai.service.AbstractChatService.completions(AbstractChatService.java:52)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:17:33.664 [http-nio-8091-exec-6] ERROR [dispatcherServlet]    - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: ChatGPTException(code=未知失败, message=null)] with root cause
cn.wang.chatgpt.data.types.exception.ChatGPTException: null
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:78)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:20:42.660 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"打电话给17633811","role":"user"},{"content":"{\"timestamp\":\"2024-03-19T08:17:33.667+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"path\":\"/api/v1/chatgpt/chat/completions\"}","role":"system"},{"content":"打电话给17633811","role":"user"}]
24-03-19.16:20:42.662 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:20:42.671 [http-nio-8091-exec-5] INFO  SensitiveWordConfig    - 检测到敏感词：电话
24-03-19.16:20:42.673 [http-nio-8091-exec-5] INFO  SensitiveWordConfig    - 检测到敏感词：电话
24-03-19.16:20:42.673 [http-nio-8091-exec-5] ERROR ChatGPTAIServiceController - 流式应答，请求模型：glm-4v 发生异常
cn.wang.chatgpt.data.types.exception.ChatGPTException: 未知失败
	at cn.wang.chatgpt.data.domain.openai.service.AbstractChatService.completions(AbstractChatService.java:52)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:20:42.676 [http-nio-8091-exec-5] ERROR [dispatcherServlet]    - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: ChatGPTException(code=未知失败, message=null)] with root cause
cn.wang.chatgpt.data.types.exception.ChatGPTException: null
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:78)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:25:40.627 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 5492 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.16:25:40.629 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.16:25:41.739 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.16:25:41.750 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.16:25:41.753 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.16:25:41.753 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.16:25:41.825 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.16:25:41.825 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1148 ms
24-03-19.16:25:42.927 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.16:25:42.949 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.16:25:42.958 [main            ] INFO  Application            - Started Application in 2.911 seconds (process running for 4.487)
24-03-19.16:25:53.662 [http-nio-8091-exec-2] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-03-19.16:25:53.663 [http-nio-8091-exec-2] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-03-19.16:25:53.664 [http-nio-8091-exec-2] INFO  DispatcherServlet      - Completed initialization in 0 ms
24-03-19.16:25:53.844 [http-nio-8091-exec-2] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"打电话给17633811","role":"user"},{"content":"{\"timestamp\":\"2024-03-19T08:20:42.678+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"path\":\"/api/v1/chatgpt/chat/completions\"}","role":"system"},{"content":"你好","role":"user"}]
24-03-19.16:25:53.862 [http-nio-8091-exec-2] ERROR AbstractAuthService    - jwt isVerify Err
com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: HmacSHA256
	at com.auth0.jwt.algorithms.HMACAlgorithm.verify(HMACAlgorithm.java:55)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:299)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:283)
	at cn.wang.chatgpt.data.domain.auth.service.AbstractAuthService.isVerify(AbstractAuthService.java:112)
	at cn.wang.chatgpt.data.domain.auth.service.AuthService.checkToken(AuthService.java:47)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:46)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:26:06.050 [http-nio-8091-exec-1] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw开始 <xml><ToUserName><![CDATA[gh_be110517359f]]></ToUserName>
<FromUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></FromUserName>
<CreateTime>1710836763</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[1234]]></Content>
<MsgId>24493294717186979</MsgId>
</xml>
24-03-19.16:26:06.247 [http-nio-8091-exec-1] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw完成 <xml>
  <ToUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></ToUserName>
  <FromUserName><![CDATA[gh_be110517359f]]></FromUserName>
  <CreateTime>1710836766</CreateTime>
  <MsgType><![CDATA[text]]></MsgType>
  <Content><![CDATA[您的验证码为: 9120 有效时间 3 分钟！]]></Content>
</xml>
24-03-19.16:26:11.748 [http-nio-8091-exec-7] INFO  AuthController         - 鉴权登录检验开始，验证码：9120
24-03-19.16:26:11.814 [http-nio-8091-exec-7] INFO  AuthController         - 鉴权登录校验完成，验证码：9120 结果：{"code":"0000","info":"验证成功","openId":"o8cXL6LbN8VYAlQ8_PdmdFTLwsNw","token":"eyJhbGciOiJIUzI1NiJ9.eyJvcGVuSWQiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwianRpIjoiZjAxNDQ3MzMtYTdhNy00MzcyLTkxMjMtODRlODhjYzlhN2U1IiwiaWF0IjoxNzEwODM2NzcxLCJzdWIiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwiZXhwIjoxNzExNDQxNTcxfQ.zVtZekVwo32CQDuaU_IZeN3eVrM2zYc4ZPTL-tLExEo"}
24-03-19.16:26:17.451 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"你好","role":"user"},{"content":"0003","role":"system"},{"content":"你好","role":"user"}]
24-03-19.16:26:17.489 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:27:03.133 [http-nio-8091-exec-5] ERROR ChatGPTAIServiceController - 流式应答，请求模型：glm-4v 发生异常
cn.wang.chatgpt.data.types.exception.ChatGPTException: 未知失败
	at cn.wang.chatgpt.data.domain.openai.service.AbstractChatService.completions(AbstractChatService.java:55)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:27:08.326 [http-nio-8091-exec-5] ERROR [dispatcherServlet]    - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: ChatGPTException(code=未知失败, message=null)] with root cause
cn.wang.chatgpt.data.types.exception.ChatGPTException: null
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:80)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:27:11.677 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 5636 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.16:27:11.679 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.16:27:12.832 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.16:27:12.844 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.16:27:12.847 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.16:27:12.847 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.16:27:12.914 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.16:27:12.915 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1181 ms
24-03-19.16:27:13.967 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.16:27:13.991 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.16:27:14.000 [main            ] INFO  Application            - Started Application in 3.058 seconds (process running for 4.059)
24-03-19.16:27:17.239 [http-nio-8091-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-03-19.16:27:17.239 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-03-19.16:27:17.240 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 1 ms
24-03-19.16:27:17.416 [http-nio-8091-exec-1] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"你好","role":"user"},{"content":"{\"timestamp\":\"2024-03-19T08:27:08.329+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"path\":\"/api/v1/chatgpt/chat/completions\"}","role":"system"},{"content":"你好","role":"user"}]
24-03-19.16:27:17.434 [http-nio-8091-exec-1] ERROR AbstractAuthService    - jwt isVerify Err
com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: HmacSHA256
	at com.auth0.jwt.algorithms.HMACAlgorithm.verify(HMACAlgorithm.java:55)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:299)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:283)
	at cn.wang.chatgpt.data.domain.auth.service.AbstractAuthService.isVerify(AbstractAuthService.java:112)
	at cn.wang.chatgpt.data.domain.auth.service.AuthService.checkToken(AuthService.java:47)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:46)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:27:37.818 [http-nio-8091-exec-3] INFO  AuthController         - 鉴权登录检验开始，验证码：9120
24-03-19.16:27:37.822 [http-nio-8091-exec-3] INFO  AuthController         - 鉴权登录校验完成，验证码：9120 结果：{"code":"0001","info":"验证码不存在"}
24-03-19.16:27:42.339 [http-nio-8091-exec-5] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw开始 <xml><ToUserName><![CDATA[gh_be110517359f]]></ToUserName>
<FromUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></FromUserName>
<CreateTime>1710836861</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[123]]></Content>
<MsgId>24493294848518786</MsgId>
</xml>
24-03-19.16:27:42.535 [http-nio-8091-exec-5] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw完成 <xml>
  <ToUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></ToUserName>
  <FromUserName><![CDATA[gh_be110517359f]]></FromUserName>
  <CreateTime>1710836862</CreateTime>
  <MsgType><![CDATA[text]]></MsgType>
  <Content><![CDATA[您的验证码为: 3101 有效时间 3 分钟！]]></Content>
</xml>
24-03-19.16:27:49.616 [http-nio-8091-exec-2] INFO  AuthController         - 鉴权登录检验开始，验证码：3101
24-03-19.16:27:49.671 [http-nio-8091-exec-2] INFO  AuthController         - 鉴权登录校验完成，验证码：3101 结果：{"code":"0000","info":"验证成功","openId":"o8cXL6LbN8VYAlQ8_PdmdFTLwsNw","token":"eyJhbGciOiJIUzI1NiJ9.eyJvcGVuSWQiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwianRpIjoiZWE5MzdlOGYtNjY5OC00MzZhLWI2YmQtNDI0Mjg1MTE1M2UwIiwiaWF0IjoxNzEwODM2ODY5LCJzdWIiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwiZXhwIjoxNzExNDQxNjY5fQ.Eb8vjRd4-zgaHcjD4btpHBNqFjak2acUbiupD25I06c"}
24-03-19.16:27:53.209 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"你好","role":"user"},{"content":"0003","role":"system"},{"content":"你好","role":"user"}]
24-03-19.16:27:53.251 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:30:10.790 [http-nio-8091-exec-6] ERROR ChatGPTAIServiceController - 流式应答，请求模型：glm-4v 发生异常
cn.wang.chatgpt.data.types.exception.ChatGPTException: 未知失败
	at cn.wang.chatgpt.data.domain.openai.service.AbstractChatService.completions(AbstractChatService.java:55)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:30:10.799 [http-nio-8091-exec-6] ERROR [dispatcherServlet]    - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: ChatGPTException(code=未知失败, message=null)] with root cause
cn.wang.chatgpt.data.types.exception.ChatGPTException: null
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:80)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:34:45.072 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 17992 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.16:34:45.074 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.16:34:46.051 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.16:34:46.060 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.16:34:46.063 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.16:34:46.063 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.16:34:46.118 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.16:34:46.119 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 993 ms
24-03-19.16:34:47.042 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.16:34:47.062 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.16:34:47.069 [main            ] INFO  Application            - Started Application in 2.579 seconds (process running for 3.361)
24-03-19.16:34:53.064 [http-nio-8091-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-03-19.16:34:53.065 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-03-19.16:34:53.066 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 1 ms
24-03-19.16:34:53.241 [http-nio-8091-exec-1] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"你好","role":"user"},{"content":"{\"timestamp\":\"2024-03-19T08:30:10.803+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"path\":\"/api/v1/chatgpt/chat/completions\"}","role":"system"},{"content":"213","role":"user"}]
24-03-19.16:34:53.258 [http-nio-8091-exec-1] ERROR AbstractAuthService    - jwt isVerify Err
com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: HmacSHA256
	at com.auth0.jwt.algorithms.HMACAlgorithm.verify(HMACAlgorithm.java:55)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:299)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:283)
	at cn.wang.chatgpt.data.domain.auth.service.AbstractAuthService.isVerify(AbstractAuthService.java:112)
	at cn.wang.chatgpt.data.domain.auth.service.AuthService.checkToken(AuthService.java:47)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:46)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:34:57.934 [http-nio-8091-exec-6] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw开始 <xml><ToUserName><![CDATA[gh_be110517359f]]></ToUserName>
<FromUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></FromUserName>
<CreateTime>1710837296</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[123]]></Content>
<MsgId>24493300108598401</MsgId>
</xml>
24-03-19.16:34:58.113 [http-nio-8091-exec-6] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw完成 <xml>
  <ToUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></ToUserName>
  <FromUserName><![CDATA[gh_be110517359f]]></FromUserName>
  <CreateTime>1710837298</CreateTime>
  <MsgType><![CDATA[text]]></MsgType>
  <Content><![CDATA[您的验证码为: 5754 有效时间 3 分钟！]]></Content>
</xml>
24-03-19.16:35:04.363 [http-nio-8091-exec-4] INFO  AuthController         - 鉴权登录检验开始，验证码：5754
24-03-19.16:35:04.424 [http-nio-8091-exec-4] INFO  AuthController         - 鉴权登录校验完成，验证码：5754 结果：{"code":"0000","info":"验证成功","openId":"o8cXL6LbN8VYAlQ8_PdmdFTLwsNw","token":"eyJhbGciOiJIUzI1NiJ9.eyJvcGVuSWQiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwianRpIjoiYTVjM2NmYzAtYTU0Ni00YzU1LWEzMzEtZTc2MTY3MTVmNzFhIiwiaWF0IjoxNzEwODM3MzA0LCJzdWIiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwiZXhwIjoxNzExNDQyMTA0fQ.nzdogA6TMa5p3WrvdQOmml0JXEiUPm8KPlJsGkPYi5I"}
24-03-19.16:35:08.275 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"213","role":"user"},{"content":"0003","role":"system"},{"content":"12313","role":"user"}]
24-03-19.16:35:08.310 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:35:08.322 [http-nio-8091-exec-5] ERROR ChatGPTAIServiceController - 流式应答，请求模型：glm-4v 发生异常
cn.wang.chatgpt.data.types.exception.ChatGPTException: 未知失败
	at cn.wang.chatgpt.data.domain.openai.service.AbstractChatService.completions(AbstractChatService.java:55)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:35:08.326 [http-nio-8091-exec-5] ERROR [dispatcherServlet]    - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: ChatGPTException(code=未知失败, message=null)] with root cause
cn.wang.chatgpt.data.types.exception.ChatGPTException: null
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:80)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:35:35.972 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 9080 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.16:35:35.974 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.16:35:37.082 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.16:35:37.093 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.16:35:37.095 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.16:35:37.097 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.16:35:37.161 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.16:35:37.161 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1139 ms
24-03-19.16:35:38.166 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.16:35:38.188 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.16:35:38.197 [main            ] INFO  Application            - Started Application in 2.813 seconds (process running for 4.01)
24-03-19.16:35:48.196 [http-nio-8091-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-03-19.16:35:48.197 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-03-19.16:35:48.197 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 0 ms
24-03-19.16:35:48.374 [http-nio-8091-exec-1] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"12313","role":"user"},{"content":"{\"timestamp\":\"2024-03-19T08:35:08.329+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"path\":\"/api/v1/chatgpt/chat/completions\"}","role":"system"},{"content":"213","role":"user"}]
24-03-19.16:35:48.392 [http-nio-8091-exec-1] ERROR AbstractAuthService    - jwt isVerify Err
com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: HmacSHA256
	at com.auth0.jwt.algorithms.HMACAlgorithm.verify(HMACAlgorithm.java:55)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:299)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:283)
	at cn.wang.chatgpt.data.domain.auth.service.AbstractAuthService.isVerify(AbstractAuthService.java:112)
	at cn.wang.chatgpt.data.domain.auth.service.AuthService.checkToken(AuthService.java:47)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:46)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:35:55.931 [http-nio-8091-exec-2] INFO  AuthController         - 鉴权登录检验开始，验证码：5754
24-03-19.16:35:55.936 [http-nio-8091-exec-2] INFO  AuthController         - 鉴权登录校验完成，验证码：5754 结果：{"code":"0001","info":"验证码不存在"}
24-03-19.16:36:00.242 [http-nio-8091-exec-3] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw开始 <xml><ToUserName><![CDATA[gh_be110517359f]]></ToUserName>
<FromUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></FromUserName>
<CreateTime>1710837358</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[123]]></Content>
<MsgId>24493302197263190</MsgId>
</xml>
24-03-19.16:36:00.431 [http-nio-8091-exec-3] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw完成 <xml>
  <ToUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></ToUserName>
  <FromUserName><![CDATA[gh_be110517359f]]></FromUserName>
  <CreateTime>1710837360</CreateTime>
  <MsgType><![CDATA[text]]></MsgType>
  <Content><![CDATA[您的验证码为: 1208 有效时间 3 分钟！]]></Content>
</xml>
24-03-19.16:36:14.175 [http-nio-8091-exec-4] INFO  AuthController         - 鉴权登录检验开始，验证码：1208
24-03-19.16:36:14.228 [http-nio-8091-exec-4] INFO  AuthController         - 鉴权登录校验完成，验证码：1208 结果：{"code":"0000","info":"验证成功","openId":"o8cXL6LbN8VYAlQ8_PdmdFTLwsNw","token":"eyJhbGciOiJIUzI1NiJ9.eyJvcGVuSWQiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwianRpIjoiZDVmM2Y4OTQtYmY1Mi00M2IyLTkxYjEtYjZjYjBjY2RkNDM5IiwiaWF0IjoxNzEwODM3Mzc0LCJzdWIiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwiZXhwIjoxNzExNDQyMTc0fQ.WqS12T4av16ja3CG30NyDjVKXCGMVg7yFn2IAmBM-bU"}
24-03-19.16:36:16.930 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"213","role":"user"},{"content":"0003","role":"system"},{"content":"123213","role":"user"}]
24-03-19.16:36:16.971 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:40:58.155 [http-nio-8091-exec-6] ERROR ChatGPTAIServiceController - 流式应答，请求模型：glm-4v 发生异常
cn.wang.chatgpt.data.types.exception.ChatGPTException: 未知失败
	at cn.wang.chatgpt.data.domain.openai.service.AbstractChatService.completions(AbstractChatService.java:55)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:40:58.163 [http-nio-8091-exec-6] ERROR [dispatcherServlet]    - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: ChatGPTException(code=未知失败, message=null)] with root cause
cn.wang.chatgpt.data.types.exception.ChatGPTException: null
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:80)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:41:03.963 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 23676 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.16:41:03.965 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.16:41:05.058 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.16:41:05.070 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.16:41:05.074 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.16:41:05.074 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.16:41:05.145 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.16:41:05.145 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1129 ms
24-03-19.16:41:06.117 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.16:41:06.138 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.16:41:06.146 [main            ] INFO  Application            - Started Application in 2.924 seconds (process running for 3.809)
24-03-19.16:41:12.226 [http-nio-8091-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-03-19.16:41:12.226 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-03-19.16:41:12.227 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 1 ms
24-03-19.16:41:12.280 [http-nio-8091-exec-1] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw开始 <xml><ToUserName><![CDATA[gh_be110517359f]]></ToUserName>
<FromUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></FromUserName>
<CreateTime>1710837670</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[213]]></Content>
<MsgId>24493309155098176</MsgId>
</xml>
24-03-19.16:41:12.484 [http-nio-8091-exec-1] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw完成 <xml>
  <ToUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></ToUserName>
  <FromUserName><![CDATA[gh_be110517359f]]></FromUserName>
  <CreateTime>1710837672</CreateTime>
  <MsgType><![CDATA[text]]></MsgType>
  <Content><![CDATA[您的验证码为: 0005 有效时间 3 分钟！]]></Content>
</xml>
24-03-19.16:41:21.312 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"123213","role":"user"},{"content":"{\"timestamp\":\"2024-03-19T08:40:58.167+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"path\":\"/api/v1/chatgpt/chat/completions\"}","role":"system"},{"content":"0005","role":"user"}]
24-03-19.16:41:21.327 [http-nio-8091-exec-6] ERROR AbstractAuthService    - jwt isVerify Err
com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: HmacSHA256
	at com.auth0.jwt.algorithms.HMACAlgorithm.verify(HMACAlgorithm.java:55)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:299)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:283)
	at cn.wang.chatgpt.data.domain.auth.service.AbstractAuthService.isVerify(AbstractAuthService.java:112)
	at cn.wang.chatgpt.data.domain.auth.service.AuthService.checkToken(AuthService.java:47)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:46)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:41:22.599 [http-nio-8091-exec-2] INFO  AuthController         - 鉴权登录检验开始，验证码：0005
24-03-19.16:41:22.674 [http-nio-8091-exec-2] INFO  AuthController         - 鉴权登录校验完成，验证码：0005 结果：{"code":"0000","info":"验证成功","openId":"o8cXL6LbN8VYAlQ8_PdmdFTLwsNw","token":"eyJhbGciOiJIUzI1NiJ9.eyJvcGVuSWQiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwianRpIjoiYzZhM2UyOTAtMjZlNC00NzIyLWFhN2ItOTNmMDg2MTA0N2Q4IiwiaWF0IjoxNzEwODM3NjgyLCJzdWIiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwiZXhwIjoxNzExNDQyNDgyfQ.oX-3HSoMEwszlSFjwSdLH25akgUfn2NAh7nJGJ6A7pQ"}
24-03-19.16:41:25.214 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"0005","role":"user"},{"content":"0003","role":"system"},{"content":"0005","role":"user"}]
24-03-19.16:41:25.251 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:43:30.514 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.16:43:30.515 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.16:43:30.515 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 243
24-03-19.16:43:30.515 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.16:43:30.515 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.16:43:30.518 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:43:30.520 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@5b56be37
24-03-19.16:43:30.540 [http-nio-8091-exec-3] WARN  DefaultHandlerExceptionResolver - Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]
24-03-19.16:43:30.541 [http-nio-8091-exec-3] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:43:30.548 [http-nio-8091-exec-3] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:43:36.782 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 22932 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.16:43:36.784 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.16:43:37.892 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.16:43:37.903 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.16:43:37.905 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.16:43:37.905 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.16:43:37.972 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.16:43:37.972 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1139 ms
24-03-19.16:43:38.966 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.16:43:38.989 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.16:43:38.997 [main            ] INFO  Application            - Started Application in 2.864 seconds (process running for 3.728)
24-03-19.16:43:39.237 [http-nio-8091-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-03-19.16:43:39.237 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-03-19.16:43:39.238 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 1 ms
24-03-19.16:43:39.432 [http-nio-8091-exec-1] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"0005","role":"user"},{"content":"{\"timestamp\":\"2024-03-19T08:43:30.543+00:00\",\"status\":503,\"error\":\"Service Unavailable\",\"path\":\"/api/v1/chatgpt/chat/completions\"}","role":"system"},{"content":"123","role":"user"}]
24-03-19.16:43:39.453 [http-nio-8091-exec-1] ERROR AbstractAuthService    - jwt isVerify Err
com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: HmacSHA256
	at com.auth0.jwt.algorithms.HMACAlgorithm.verify(HMACAlgorithm.java:55)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:299)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:283)
	at cn.wang.chatgpt.data.domain.auth.service.AbstractAuthService.isVerify(AbstractAuthService.java:112)
	at cn.wang.chatgpt.data.domain.auth.service.AuthService.checkToken(AuthService.java:47)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:46)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:43:43.366 [http-nio-8091-exec-2] INFO  AuthController         - 鉴权登录检验开始，验证码：        List<MessageEntity> newMessages = chatProcess.getMessages().stream()                 .map(message -> {                     String content = message.getContent();                     String replace = words.replace(content);                     return MessageEntity.builder()                             .role(message.getRole())                             .name(message.getName())                             .content(replace)                             .build();                 })                 .collect(Collectors.toList());
24-03-19.16:43:43.366 [http-nio-8091-exec-2] INFO  AbstractAuthService    - 鉴权，用户输入的验证码无效        List<MessageEntity> newMessages = chatProcess.getMessages().stream()                 .map(message -> {                     String content = message.getContent();                     String replace = words.replace(content);                     return MessageEntity.builder()                             .role(message.getRole())                             .name(message.getName())                             .content(replace)                             .build();                 })                 .collect(Collectors.toList());
24-03-19.16:43:43.371 [http-nio-8091-exec-2] INFO  AuthController         - 鉴权登录校验完成，验证码：        List<MessageEntity> newMessages = chatProcess.getMessages().stream()                 .map(message -> {                     String content = message.getContent();                     String replace = words.replace(content);                     return MessageEntity.builder()                             .role(message.getRole())                             .name(message.getName())                             .content(replace)                             .build();                 })                 .collect(Collectors.toList()); 结果：{"code":"0002","info":"验证码失效"}
24-03-19.16:43:46.744 [http-nio-8091-exec-4] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw开始 <xml><ToUserName><![CDATA[gh_be110517359f]]></ToUserName>
<FromUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></FromUserName>
<CreateTime>1710837825</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[123]]></Content>
<MsgId>24493306642857891</MsgId>
</xml>
24-03-19.16:43:46.942 [http-nio-8091-exec-4] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw完成 <xml>
  <ToUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></ToUserName>
  <FromUserName><![CDATA[gh_be110517359f]]></FromUserName>
  <CreateTime>1710837826</CreateTime>
  <MsgType><![CDATA[text]]></MsgType>
  <Content><![CDATA[您的验证码为: 8520 有效时间 3 分钟！]]></Content>
</xml>
24-03-19.16:44:00.285 [http-nio-8091-exec-3] INFO  AuthController         - 鉴权登录检验开始，验证码：8520
24-03-19.16:44:00.339 [http-nio-8091-exec-3] INFO  AuthController         - 鉴权登录校验完成，验证码：8520 结果：{"code":"0000","info":"验证成功","openId":"o8cXL6LbN8VYAlQ8_PdmdFTLwsNw","token":"eyJhbGciOiJIUzI1NiJ9.eyJvcGVuSWQiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwianRpIjoiMzU0NDVjMGUtYmY2NS00MjgyLTg0ZjctMmZlN2JjOWIyMTJhIiwiaWF0IjoxNzEwODM3ODQwLCJzdWIiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwiZXhwIjoxNzExNDQyNjQwfQ._USwk9zos1FKEg5zkyEhi6lUVJQad_Mm_Ca7eZBEF50"}
24-03-19.16:44:03.101 [http-nio-8091-exec-9] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"123","role":"user"},{"content":"0003","role":"system"},{"content":" 8520","role":"user"}]
24-03-19.16:44:03.145 [http-nio-8091-exec-9] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:45:52.642 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:45:52.644 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@31533202
24-03-19.16:45:52.645 [http-nio-8091-exec-7] WARN  DefaultHandlerExceptionResolver - Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]
24-03-19.16:45:52.646 [http-nio-8091-exec-7] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:45:52.654 [http-nio-8091-exec-7] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:45:56.071 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 28400 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.16:45:56.073 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.16:45:57.158 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.16:45:57.169 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.16:45:57.171 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.16:45:57.171 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.16:45:57.239 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.16:45:57.239 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1118 ms
24-03-19.16:45:58.234 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.16:45:58.258 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.16:45:58.266 [main            ] INFO  Application            - Started Application in 2.833 seconds (process running for 3.73)
24-03-19.16:46:04.105 [http-nio-8091-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-03-19.16:46:04.106 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-03-19.16:46:04.107 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 0 ms
24-03-19.16:46:04.283 [http-nio-8091-exec-1] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":" 8520","role":"user"},{"content":"{\"timestamp\":\"2024-03-19T08:45:52.649+00:00\",\"status\":503,\"error\":\"Service Unavailable\",\"path\":\"/api/v1/chatgpt/chat/completions\"}","role":"system"},{"content":"123","role":"user"}]
24-03-19.16:46:04.300 [http-nio-8091-exec-1] ERROR AbstractAuthService    - jwt isVerify Err
com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: HmacSHA256
	at com.auth0.jwt.algorithms.HMACAlgorithm.verify(HMACAlgorithm.java:55)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:299)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:283)
	at cn.wang.chatgpt.data.domain.auth.service.AbstractAuthService.isVerify(AbstractAuthService.java:112)
	at cn.wang.chatgpt.data.domain.auth.service.AuthService.checkToken(AuthService.java:47)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:46)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:46:08.892 [http-nio-8091-exec-2] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw开始 <xml><ToUserName><![CDATA[gh_be110517359f]]></ToUserName>
<FromUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></FromUserName>
<CreateTime>1710837967</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[23]]></Content>
<MsgId>24493312258908343</MsgId>
</xml>
24-03-19.16:46:09.096 [http-nio-8091-exec-2] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw完成 <xml>
  <ToUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></ToUserName>
  <FromUserName><![CDATA[gh_be110517359f]]></FromUserName>
  <CreateTime>1710837969</CreateTime>
  <MsgType><![CDATA[text]]></MsgType>
  <Content><![CDATA[您的验证码为: 7541 有效时间 3 分钟！]]></Content>
</xml>
24-03-19.16:46:16.798 [http-nio-8091-exec-7] INFO  AuthController         - 鉴权登录检验开始，验证码：7541
24-03-19.16:46:16.865 [http-nio-8091-exec-7] INFO  AuthController         - 鉴权登录校验完成，验证码：7541 结果：{"code":"0000","info":"验证成功","openId":"o8cXL6LbN8VYAlQ8_PdmdFTLwsNw","token":"eyJhbGciOiJIUzI1NiJ9.eyJvcGVuSWQiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwianRpIjoiOTRkNGZkMzItYzViMy00YTI2LTk5ZTYtZDQ1OTY0MmVmYzczIiwiaWF0IjoxNzEwODM3OTc2LCJzdWIiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwiZXhwIjoxNzExNDQyNzc2fQ.kLu9wwcDXsJ6--C-Braq7e7h0C9xUxBx3amiJNPBHXE"}
24-03-19.16:46:19.544 [http-nio-8091-exec-10] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"123","role":"user"},{"content":"0003","role":"system"},{"content":"1242","role":"user"}]
24-03-19.16:46:19.590 [http-nio-8091-exec-10] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:48:45.045 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.16:48:45.045 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.16:48:45.449 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 242
24-03-19.16:48:45.451 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.16:48:45.452 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.16:48:46.115 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:48:46.117 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@5b56be37
24-03-19.16:48:48.222 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (2769ms)
24-03-19.16:48:48.223 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 08:48:47 GMT
24-03-19.16:48:48.223 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.16:48:48.223 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=76b20ffe17108381265184315e7bc7d8ac96317448e20062fa4f352f9687c9;path=/;HttpOnly;Max-Age=1800
24-03-19.16:48:48.223 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.16:48:48.223 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.16:48:48.223 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.16:48:48.223 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.16:48:48.223 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.16:48:48.223 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.16:48:56.726 [http-nio-8091-exec-5] WARN  DefaultHandlerExceptionResolver - Ignoring exception, response committed already: org.springframework.web.context.request.async.AsyncRequestTimeoutException
24-03-19.16:48:56.726 [http-nio-8091-exec-5] WARN  DefaultHandlerExceptionResolver - Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]
24-03-19.16:48:56.727 [http-nio-8091-exec-5] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:48:59.967 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 19488 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.16:48:59.969 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.16:49:00.949 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.16:49:00.960 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.16:49:00.963 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.16:49:00.963 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.16:49:01.024 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.16:49:01.024 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1008 ms
24-03-19.16:49:01.962 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.16:49:01.982 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.16:49:01.989 [main            ] INFO  Application            - Started Application in 2.625 seconds (process running for 3.428)
24-03-19.16:49:12.465 [http-nio-8091-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-03-19.16:49:12.465 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-03-19.16:49:12.466 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 1 ms
24-03-19.16:49:12.645 [http-nio-8091-exec-3] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"1242","role":"user"},{"content":"<|assistant|>\n小智识别到这是一条数学题求解意图，题目的 latex 表示为：123\\approx0.0003<00031242\n<|assistant|>call_alltools\n```python\ntool_call(content=\"请帮我解答下面的数学题：123\\approx0.0003<00031242\")\n```\n<|observation|>","role":"system"},{"content":"1242","role":"user"}]
24-03-19.16:49:12.662 [http-nio-8091-exec-3] ERROR AbstractAuthService    - jwt isVerify Err
com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: HmacSHA256
	at com.auth0.jwt.algorithms.HMACAlgorithm.verify(HMACAlgorithm.java:55)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:299)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:283)
	at cn.wang.chatgpt.data.domain.auth.service.AbstractAuthService.isVerify(AbstractAuthService.java:112)
	at cn.wang.chatgpt.data.domain.auth.service.AuthService.checkToken(AuthService.java:47)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:46)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:49:16.979 [http-nio-8091-exec-2] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw开始 <xml><ToUserName><![CDATA[gh_be110517359f]]></ToUserName>
<FromUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></FromUserName>
<CreateTime>1710838155</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[123]]></Content>
<MsgId>24493312966278011</MsgId>
</xml>
24-03-19.16:49:17.150 [http-nio-8091-exec-2] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw完成 <xml>
  <ToUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></ToUserName>
  <FromUserName><![CDATA[gh_be110517359f]]></FromUserName>
  <CreateTime>1710838157</CreateTime>
  <MsgType><![CDATA[text]]></MsgType>
  <Content><![CDATA[您的验证码为: 0158 有效时间 3 分钟！]]></Content>
</xml>
24-03-19.16:49:22.190 [http-nio-8091-exec-4] INFO  AuthController         - 鉴权登录检验开始，验证码：0158
24-03-19.16:49:22.250 [http-nio-8091-exec-4] INFO  AuthController         - 鉴权登录校验完成，验证码：0158 结果：{"code":"0000","info":"验证成功","openId":"o8cXL6LbN8VYAlQ8_PdmdFTLwsNw","token":"eyJhbGciOiJIUzI1NiJ9.eyJvcGVuSWQiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwianRpIjoiMWVmODI3MzgtOWRlMC00ZWIwLWI2NDYtNzU1OTQxNGNlMWZhIiwiaWF0IjoxNzEwODM4MTYyLCJzdWIiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwiZXhwIjoxNzExNDQyOTYyfQ.Bw1WnsIEnzOKqiuToGnNxhtQrOeT3iwEC0uL9mTz2ps"}
24-03-19.16:49:26.171 [http-nio-8091-exec-10] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"1242","role":"user"},{"content":"0003","role":"system"},{"content":"123123","role":"user"}]
24-03-19.16:49:26.203 [http-nio-8091-exec-10] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:49:26.238 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.16:49:26.238 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.16:49:26.238 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 245
24-03-19.16:49:26.238 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.16:49:26.238 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.16:49:26.241 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:49:26.243 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@61f270de
24-03-19.16:49:28.362 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (2123ms)
24-03-19.16:49:28.362 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 08:49:27 GMT
24-03-19.16:49:28.362 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.16:49:28.362 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a3317108381668167935e3d5056066b21c341db5aa91e7f9c64473777;path=/;HttpOnly;Max-Age=1800
24-03-19.16:49:28.362 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.16:49:28.362 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.16:49:28.362 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.16:49:28.362 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.16:49:28.362 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.16:49:28.362 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.16:49:28.567 [http-nio-8091-exec-7] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:49:38.710 [http-nio-8091-exec-8] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"123123","role":"user"},{"content":"抱歉，我无法回答您这个问题。","role":"system"},{"content":"1+1","role":"user"}]
24-03-19.16:49:38.712 [http-nio-8091-exec-8] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:49:38.715 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.16:49:38.715 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.16:49:38.715 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 282
24-03-19.16:49:38.716 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.16:49:38.716 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.16:49:38.716 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:49:38.716 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@13b6c98b
24-03-19.16:49:40.033 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1317ms)
24-03-19.16:49:40.033 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 08:49:39 GMT
24-03-19.16:49:40.033 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.16:49:40.033 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a3317108381783931552e3d5053ba242d86a7e1352920eb0a2f9efa82;path=/;HttpOnly;Max-Age=1800
24-03-19.16:49:40.033 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.16:49:40.033 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.16:49:40.033 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.16:49:40.034 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.16:49:40.034 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.16:49:40.034 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.16:49:40.216 [http-nio-8091-exec-9] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:50:04.126 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"1+1","role":"user"},{"content":"<b>答案：</b>2","role":"system"},{"content":"写一个冒泡排序","role":"user"}]
24-03-19.16:50:04.127 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:50:04.131 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.16:50:04.131 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.16:50:04.132 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 272
24-03-19.16:50:04.132 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.16:50:04.132 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.16:50:04.132 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:50:04.132 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@e6f6d9a
24-03-19.16:50:05.429 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1296ms)
24-03-19.16:50:05.429 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 08:50:05 GMT
24-03-19.16:50:05.429 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.16:50:05.429 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a3317108382038715534e3d50df0dbb90f8619549c613097aeb3a53ca;path=/;HttpOnly;Max-Age=1800
24-03-19.16:50:05.429 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.16:50:05.429 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.16:50:05.429 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.16:50:05.429 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.16:50:05.429 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.16:50:05.429 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.16:50:14.032 [http-nio-8091-exec-1] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:50:21.254 [http-nio-8091-exec-3] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"请问有什么需要帮助的吗？","role":"system"},{"content":"我想让你担任Java开发工程师面试官。我将成为候选人，您将向我询问Java开发工程师职位的面试问题。我希望你只作为面试官回答。不要一次写出所有的问题。我希望你只对我进行采访。问我问题，等待我的回答。不要写解释。像面试官一样一个一个问我，等我回答。我的第一句话是“面试官你好","role":"user"}]
24-03-19.16:50:21.256 [http-nio-8091-exec-3] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:50:21.259 [http-nio-8091-exec-3] INFO  SensitiveWordConfig    - 检测到敏感词：开发
24-03-19.16:50:21.259 [http-nio-8091-exec-3] INFO  SensitiveWordConfig    - 检测到敏感词：开发
24-03-19.16:50:21.262 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.16:50:21.262 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.16:50:21.262 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 618
24-03-19.16:50:21.262 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.16:50:21.262 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.16:50:21.262 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:50:21.262 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@62f6db30
24-03-19.16:50:23.046 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1783ms)
24-03-19.16:50:23.046 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 08:50:22 GMT
24-03-19.16:50:23.046 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.16:50:23.046 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a3317108382210278214e3d502dc1859372aa07bebf49cd65e9b11cd8;path=/;HttpOnly;Max-Age=1800
24-03-19.16:50:23.046 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.16:50:23.046 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: N/A
24-03-19.16:50:23.046 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.16:50:23.046 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.16:50:23.046 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.16:50:23.046 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.16:50:23.864 [http-nio-8091-exec-2] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:50:40.163 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"我想让你担任Java开发工程师面试官。我将成为候选人，您将向我询问Java开发工程师职位的面试问题。我希望你只作为面试官回答。不要一次写出所有的问题。我希望你只对我进行采访。问我问题，等待我的回答。不要写解释。像面试官一样一个一个问我，等我回答。我的第一句话是“面试官你好","role":"user"},{"content":"好的，面试官您好！很高兴能参加这次面试。请问我需要准备些什么才能成功地通过这次面试？","role":"system"},{"content":"你会写冒泡排血就行","role":"user"}]
24-03-19.16:50:40.164 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:50:40.165 [http-nio-8091-exec-5] INFO  SensitiveWordConfig    - 检测到敏感词：开发
24-03-19.16:50:40.165 [http-nio-8091-exec-5] INFO  SensitiveWordConfig    - 检测到敏感词：开发
24-03-19.16:50:40.168 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.16:50:40.168 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.16:50:40.168 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 764
24-03-19.16:50:40.168 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.16:50:40.168 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.16:50:40.168 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:50:40.168 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@17807949
24-03-19.16:50:41.564 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1395ms)
24-03-19.16:50:41.564 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 08:50:41 GMT
24-03-19.16:50:41.564 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.16:50:41.564 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a3317108382398943026e3d50b2e44e72e77ac75c7d65af0488f94bec;path=/;HttpOnly;Max-Age=1800
24-03-19.16:50:41.564 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.16:50:41.564 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: N/A
24-03-19.16:50:41.564 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.16:50:41.564 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.16:50:41.564 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.16:50:41.564 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.16:50:55.072 [http-nio-8091-exec-4] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:51:02.663 [http-nio-8091-exec-10] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"你会写冒泡排血就行","role":"user"},{"content":"好的，谢谢您的提示。那么接下来我会问一些关于Java编程的基础知识，例如：\n1. 请介绍一下Java中的面向对象编程（OOP）的概念和特点是什么？\n2. 请解释一下Java中的类和对象之间的关系，以及如何创建一个类的实例？\n3. 请列举一下Java中常用的数据类型，并说明它们的特点和使用场景。\n4. 请解释一下Java中的异常处理机制，包括try-catch块的作用和原理。\n5. 请介绍一下Java中的集合框架，包括List、Set、Map等接口的主要区别和用途。\n6. 请解释一下Java中的多线程编程的基本概念和实现方式，以及如何同步和互斥访问共享资源。\n7. 请介绍一下Java中的反射机制，以及它如何在运行时动态地加载和访问类和方法。\n8. 请解释一下Java中的注解（Annotation）是什么，以及它在编程中的应用场景。\n9. 请介绍一下Java中的GUI编程框架，如Swing、JavaFX等，以及它们的特点和应用领域。\n10. 请介绍一下Java中的网络编程模型，包括B/S和C/S两种模式的特点和区别。\n这些问题涵盖了Java编程的基础知识和核心特性，掌握它们对于成为一名合格的Java工程师至关重要。在实际面试中，这些问题可能会以不同的形式出现，但都是考察应聘者对Java语言理解和应用能力的重点。希望这些信息能够帮助您为面试做好准备。","role":"system"},{"content":"ooD是什么","role":"user"}]
24-03-19.16:51:02.664 [http-nio-8091-exec-10] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:51:02.666 [http-nio-8091-exec-10] INFO  SensitiveWordConfig    - 检测到敏感词：网络
24-03-19.16:51:02.666 [http-nio-8091-exec-10] INFO  SensitiveWordConfig    - 检测到敏感词：信息
24-03-19.16:51:02.668 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.16:51:02.669 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.16:51:02.669 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 1712
24-03-19.16:51:02.669 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.16:51:02.669 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.16:51:02.669 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:51:02.669 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@6bbdd6b3
24-03-19.16:51:04.100 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1431ms)
24-03-19.16:51:04.100 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 08:51:03 GMT
24-03-19.16:51:04.100 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.16:51:04.100 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a3317108382623996296e3d500eeee45fe9c4c0f6783d8e959f83bcd0;path=/;HttpOnly;Max-Age=1800
24-03-19.16:51:04.100 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.16:51:04.100 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.16:51:04.101 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.16:51:04.101 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.16:51:04.101 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.16:51:04.101 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.16:51:15.107 [http-nio-8091-exec-7] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:51:52.990 [http-nio-8091-exec-8] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"ooD是什么","role":"user"},{"content":"ooD是Object Oriented Design的缩写，中文意思是面向对象的设计。它是软件工程领域的一种设计哲学和方法学，强调将软件系统分解为一系列相互交互的对象，每个对象都有其属性和方法。面向对象的设计使得软件更加模块化、可重用和易于维护。通过使用面向对象的方法，可以更好地描述现实世界中的复杂问题，并将问题的解决方案封装到对象中。\n\n面向对象的设计原则主要包括：\n\n1. 抽象（Abstraction）：将具体的细节隐藏起来，只暴露出必要的信息。\n2. 封装（Encapsulation）：将对象的状态和行为封装在一个统一的结构中，使其具有独立的接口。\n3. 多态（Polymorphism）：允许同一个接口被多种实现所覆盖，从而实现同一接口的不同行为。\n4. 继承（Inheritance）：允许子类继承父类的属性和方法，形成层次化的类体系。\n5. 关联（Association）：表示两个或多个对象之间的某种关系，可以是关联、聚合或组合。\n\n面向对象的设计方法不仅应用于传统的桌面应用程序开发，还广泛应用于分布式系统、网络服务、移动应用等多种场景。随着计算机科学的不断发展，面向对象的设计理念和技术也在不断地演进和完善中。","role":"system"},{"content":"打电话给王宁","role":"user"}]
24-03-19.16:51:52.993 [http-nio-8091-exec-8] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:51:52.994 [http-nio-8091-exec-8] INFO  SensitiveWordConfig    - 检测到敏感词：维护
24-03-19.16:51:52.994 [http-nio-8091-exec-8] INFO  SensitiveWordConfig    - 检测到敏感词：信息
24-03-19.16:51:52.994 [http-nio-8091-exec-8] INFO  SensitiveWordConfig    - 检测到敏感词：独立
24-03-19.16:51:52.994 [http-nio-8091-exec-8] INFO  SensitiveWordConfig    - 检测到敏感词：开发
24-03-19.16:51:52.994 [http-nio-8091-exec-8] INFO  SensitiveWordConfig    - 检测到敏感词：网络
24-03-19.16:51:52.994 [http-nio-8091-exec-8] INFO  SensitiveWordConfig    - 检测到敏感词：移动
24-03-19.16:51:52.995 [http-nio-8091-exec-8] INFO  SensitiveWordConfig    - 检测到敏感词：电话
24-03-19.16:51:52.998 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.16:51:52.998 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.16:51:52.998 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 1564
24-03-19.16:51:52.998 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.16:51:52.998 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.16:51:52.998 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:51:52.998 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@9719e28
24-03-19.16:51:54.341 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1342ms)
24-03-19.16:51:54.341 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 08:51:53 GMT
24-03-19.16:51:54.341 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.16:51:54.341 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a3317108383126754912e3d50b10ef632ce637ec482182fa10740ce9e;path=/;HttpOnly;Max-Age=1800
24-03-19.16:51:54.342 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.16:51:54.342 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.16:51:54.342 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.16:51:54.342 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.16:51:54.342 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.16:51:54.342 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.16:51:56.230 [http-nio-8091-exec-9] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:52:49.160 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"打电话给王宁","role":"user"},{"content":"抱歉，我不具备直接联系个人的功能。如果您有关于王宁的问题或者需要他的帮助，建议您通过合适的渠道进行联系，例如社交媒体平台、电子邮件或者相关的官方联系方式。在现代社会，多种沟通方式都可以帮助我们找到所需的信息和资源。","role":"system"},{"content":"习近平\n","role":"user"}]
24-03-19.16:52:49.162 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:52:49.162 [http-nio-8091-exec-6] INFO  SensitiveWordConfig    - 检测到敏感词：电话
24-03-19.16:52:49.162 [http-nio-8091-exec-6] INFO  SensitiveWordConfig    - 检测到敏感词：联系
24-03-19.16:52:49.162 [http-nio-8091-exec-6] INFO  SensitiveWordConfig    - 检测到敏感词：联系
24-03-19.16:52:49.162 [http-nio-8091-exec-6] INFO  SensitiveWordConfig    - 检测到敏感词：官方
24-03-19.16:52:49.162 [http-nio-8091-exec-6] INFO  SensitiveWordConfig    - 检测到敏感词：联系方式
24-03-19.16:52:49.162 [http-nio-8091-exec-6] INFO  SensitiveWordConfig    - 检测到敏感词：社会
24-03-19.16:52:49.162 [http-nio-8091-exec-6] INFO  SensitiveWordConfig    - 检测到敏感词：信息
24-03-19.16:52:49.162 [http-nio-8091-exec-6] INFO  SensitiveWordConfig    - 检测到敏感词：习近平
24-03-19.16:52:49.164 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.16:52:49.164 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.16:52:49.165 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 524
24-03-19.16:52:49.165 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.16:52:49.165 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.16:52:49.165 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:52:49.165 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@5d0afb6d
24-03-19.16:52:49.480 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 400 https://open.bigmodel.cn/api/paas/v4/chat/completions (315ms)
24-03-19.16:52:49.480 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 08:52:49 GMT
24-03-19.16:52:49.480 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a3317108383689424762e3d506bad25a2d9df73ff93305a493f03d932;path=/;HttpOnly;Max-Age=1800
24-03-19.16:52:49.480 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.16:52:49.480 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.16:52:49.480 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.16:52:49.480 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.16:52:49.480 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.16:52:49.480 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.16:53:34.987 [http-nio-8091-exec-1] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"习近平\n","role":"user"},{"content":"","role":"system"},{"content":"有鬼","role":"user"}]
24-03-19.16:53:34.988 [http-nio-8091-exec-1] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:53:34.988 [http-nio-8091-exec-1] INFO  SensitiveWordConfig    - 检测到敏感词：习近平
24-03-19.16:53:34.990 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.16:53:34.990 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.16:53:34.990 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 239
24-03-19.16:53:34.991 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.16:53:34.991 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.16:53:34.991 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:53:34.991 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@49d49bb4
24-03-19.16:53:35.351 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 400 https://open.bigmodel.cn/api/paas/v4/chat/completions (361ms)
24-03-19.16:53:35.351 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 08:53:34 GMT
24-03-19.16:53:35.351 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a3317108384148022913e3d504fa96ee42ea1ccae479454b1ded3da16;path=/;HttpOnly;Max-Age=1800
24-03-19.16:53:35.352 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.16:53:35.352 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.16:53:35.352 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.16:53:35.352 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.16:53:35.352 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.16:53:35.352 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.16:54:28.712 [http-nio-8091-exec-3] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"请问有什么需要帮助的吗？","role":"system"},{"content":"你是一个专业的互联网文章作者，擅长互联网技术介绍、互联网商业、技术应用等方面的写作。\n接下来你要根据用户给你的主题，拓展生成用户想要的文字内容，内容可能是一篇文章、一个开头、一段介绍文字、文章总结、文章结尾等等。\n要求语言通俗易懂、幽默有趣，并且要以第一人称的口吻。","role":"user"}]
24-03-19.16:54:28.713 [http-nio-8091-exec-3] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:54:28.713 [http-nio-8091-exec-3] INFO  SensitiveWordConfig    - 检测到敏感词：用户
24-03-19.16:54:28.714 [http-nio-8091-exec-3] INFO  SensitiveWordConfig    - 检测到敏感词：用户
24-03-19.16:54:28.717 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.16:54:28.717 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.16:54:28.717 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 623
24-03-19.16:54:28.717 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.16:54:28.717 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.16:54:28.717 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:54:28.717 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@4c59d473
24-03-19.16:54:30.040 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1322ms)
24-03-19.16:54:30.040 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 08:54:29 GMT
24-03-19.16:54:30.040 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.16:54:30.040 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a3317108384684722281e3d50e2b9d673f677bab7dab00e94fe9c36b1;path=/;HttpOnly;Max-Age=1800
24-03-19.16:54:30.040 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.16:54:30.040 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.16:54:30.040 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.16:54:30.041 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.16:54:30.041 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.16:54:30.041 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.16:54:42.325 [http-nio-8091-exec-2] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:54:57.029 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"你是一个专业的互联网文章作者，擅长互联网技术介绍、互联网商业、技术应用等方面的写作。\n接下来你要根据用户给你的主题，拓展生成用户想要的文字内容，内容可能是一篇文章、一个开头、一段介绍文字、文章总结、文章结尾等等。\n要求语言通俗易懂、幽默有趣，并且要以第一人称的口吻。","role":"user"},{"content":"当然可以！根据您的需求，我将为您生成一篇关于互联网技术的文章。以下是我的文章：\n\n\"大家好！今天我要和大家分享一些关于互联网的有趣知识。首先，让我们来了解一下什么是互联网。\"\n\n\"互联网是一种通过电子设备实现全球范围内信息交流和资源共享的网络系统。它由许多相互连接的计算机网络组成，使人们能够轻松地发送电子邮件、浏览网页、进行在线聊天等。\"\n\n\"你可能知道，互联网的起源可以追溯到1960年代的美国军方的一个项目。当时，他们想要创建一个安全的通信网络，用于军事目的。然而，随着时间的推移，这个项目逐渐演变成了一个用于公众的、开放的互联网。\"\n\n\"在互联网的发展过程中，有许多重要的事件和人物。例如，1994年，万维网（WWW）被发明出来，它允许用户轻松地访问和共享各种资源。此外，2003年，社交媒体平台如Facebook和Twitter相继推出，改变了人们的信息传播方式。\"\n\n\"虽然互联网给我们带来了许多便利，但它也带来了一些挑战和问题。例如，网络安全问题、虚假信息和隐私泄露等问题。因此，我们需要保持警惕，并采取措施保护自己的信息和财产。\"\n\n\"总之，互联网是一个非常神奇和强大的工具。它不仅改变了我们的生活方式，还将继续影响我们的未来。希望你们能喜欢这篇文章，并了解更多关于互联网的知识！\"\n\n这就是我为您生成的文章。如果还有其他任何问题或需求，请随时告诉我。","role":"system"},{"content":"习近平","role":"user"}]
24-03-19.16:54:57.030 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:55:04.024 [http-nio-8091-exec-4] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"习近平","role":"user"},{"content":"您今日的免费10次，已耗尽！","role":"system"},{"content":"123123","role":"user"}]
24-03-19.16:55:04.025 [http-nio-8091-exec-4] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:55:05.576 [http-nio-8091-exec-10] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"123123","role":"user"},{"content":"您今日的免费10次，已耗尽！","role":"system"},{"content":"123","role":"user"}]
24-03-19.16:55:05.577 [http-nio-8091-exec-10] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:55:13.939 [http-nio-8091-exec-8] WARN  DefaultHandlerExceptionResolver - Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]
24-03-19.16:55:13.939 [http-nio-8091-exec-7] WARN  DefaultHandlerExceptionResolver - Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]
24-03-19.16:55:13.939 [http-nio-8091-exec-7] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:55:13.939 [http-nio-8091-exec-8] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:55:13.946 [http-nio-8091-exec-8] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:55:13.946 [http-nio-8091-exec-7] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:55:16.826 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 28952 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.16:55:16.828 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.16:55:17.825 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.16:55:17.836 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.16:55:17.838 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.16:55:17.839 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.16:55:17.898 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.16:55:17.898 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1021 ms
24-03-19.16:55:18.796 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.16:55:18.816 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.16:55:18.823 [main            ] INFO  Application            - Started Application in 2.599 seconds (process running for 3.349)
24-03-19.16:55:30.302 [http-nio-8091-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-03-19.16:55:30.303 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-03-19.16:55:30.303 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 0 ms
24-03-19.16:55:30.349 [http-nio-8091-exec-1] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw开始 <xml><ToUserName><![CDATA[gh_be110517359f]]></ToUserName>
<FromUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></FromUserName>
<CreateTime>1710838528</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[123]]></Content>
<MsgId>24493320794736475</MsgId>
</xml>
24-03-19.16:55:30.527 [http-nio-8091-exec-1] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw完成 <xml>
  <ToUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></ToUserName>
  <FromUserName><![CDATA[gh_be110517359f]]></FromUserName>
  <CreateTime>1710838530</CreateTime>
  <MsgType><![CDATA[text]]></MsgType>
  <Content><![CDATA[您的验证码为: 1314 有效时间 3 分钟！]]></Content>
</xml>
24-03-19.16:55:39.035 [http-nio-8091-exec-8] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"123","role":"user"},{"content":"您今日的免费10次，已耗尽！","role":"system"},{"content":"23","role":"user"}]
24-03-19.16:55:39.048 [http-nio-8091-exec-8] ERROR AbstractAuthService    - jwt isVerify Err
com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: HmacSHA256
	at com.auth0.jwt.algorithms.HMACAlgorithm.verify(HMACAlgorithm.java:55)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:299)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:283)
	at cn.wang.chatgpt.data.domain.auth.service.AbstractAuthService.isVerify(AbstractAuthService.java:112)
	at cn.wang.chatgpt.data.domain.auth.service.AuthService.checkToken(AuthService.java:47)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:46)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.16:55:43.073 [http-nio-8091-exec-10] INFO  AuthController         - 鉴权登录检验开始，验证码：1314
24-03-19.16:55:43.131 [http-nio-8091-exec-10] INFO  AuthController         - 鉴权登录校验完成，验证码：1314 结果：{"code":"0000","info":"验证成功","openId":"o8cXL6LbN8VYAlQ8_PdmdFTLwsNw","token":"eyJhbGciOiJIUzI1NiJ9.eyJvcGVuSWQiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwianRpIjoiNmJiOGNhZjctNWYwNi00MDZhLTk5YmMtOWJmODQxMWVkMWQzIiwiaWF0IjoxNzEwODM4NTQzLCJzdWIiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwiZXhwIjoxNzExNDQzMzQzfQ.HElR9_k-RYkyyBmZuJ2u1UhrIBrQP4vC77AJe2uEnJs"}
24-03-19.16:55:52.444 [http-nio-8091-exec-2] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"23","role":"user"},{"content":"0003","role":"system"},{"content":"1234","role":"user"}]
24-03-19.16:55:52.481 [http-nio-8091-exec-2] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:55:52.511 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.16:55:52.511 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.16:55:52.511 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 241
24-03-19.16:55:52.511 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.16:55:52.511 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.16:55:52.514 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:55:52.515 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@6fd9572d
24-03-19.16:55:54.427 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1915ms)
24-03-19.16:55:54.427 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 08:55:54 GMT
24-03-19.16:55:54.427 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.16:55:54.427 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a4f17108385526835564e335202265194e073001a535966b2b1f7fff5;path=/;HttpOnly;Max-Age=1800
24-03-19.16:55:54.427 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.16:55:54.427 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.16:55:54.427 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.16:55:54.427 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.16:55:54.427 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.16:55:54.427 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.16:55:55.658 [http-nio-8091-exec-6] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:56:05.930 [http-nio-8091-exec-7] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"1234","role":"user"},{"content":"这是用Python语言编写的代码，用于将数字23转换为字符串形式“0003”和整数形式1234。","role":"system"},{"content":"打电话","role":"user"}]
24-03-19.16:56:05.931 [http-nio-8091-exec-7] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:56:05.933 [http-nio-8091-exec-7] INFO  SensitiveWordConfig    - 检测到敏感词：电话
24-03-19.16:56:05.936 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.16:56:05.936 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.16:56:05.936 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 350
24-03-19.16:56:05.936 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.16:56:05.936 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.16:56:05.936 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:56:05.936 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@3eadd298
24-03-19.16:56:07.321 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1383ms)
24-03-19.16:56:07.321 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 08:56:06 GMT
24-03-19.16:56:07.321 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.16:56:07.321 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a4f17108385656727502e3352068288654917e65970b5f4822d35aeb1;path=/;HttpOnly;Max-Age=1800
24-03-19.16:56:07.321 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.16:56:07.321 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.16:56:07.321 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.16:56:07.321 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.16:56:07.321 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.16:56:07.321 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.16:56:13.294 [http-nio-8091-exec-3] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:57:49.691 [http-nio-8091-exec-4] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"打电话","role":"user"},{"content":"这是用Python语言编写的代码，用于将数字23转换为字符串形式“0003”和整数形式1234。\n```python  \nnum = int(input(\"请输入一个三位数：\"))  \nstr_num = str(num)  \nprint(f\"数字{num}的十进制数为{str_num}\\n\")  \nint_num = num  \nprint(f\"数字{num}的整数形式为{int_num}\\n\")  \n```\n当在命令行中运行此代码时，用户可以输入三位数，例如“23”，然后程序会输出该数的十进制表示“0003”和整数形式“123”。","role":"system"},{"content":"写一个java快排","role":"user"}]
24-03-19.16:57:49.693 [http-nio-8091-exec-4] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:57:49.693 [http-nio-8091-exec-4] INFO  SensitiveWordConfig    - 检测到敏感词：电话
24-03-19.16:57:49.695 [http-nio-8091-exec-4] INFO  SensitiveWordConfig    - 检测到敏感词：用户
24-03-19.16:57:49.696 [http-nio-8091-exec-4] INFO  SensitiveWordConfig    - 检测到敏感词：然后
24-03-19.16:57:49.701 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.16:57:49.701 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.16:57:49.702 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 747
24-03-19.16:57:49.702 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.16:57:49.702 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.16:57:49.702 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:57:49.702 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@6e8cb870
24-03-19.16:57:51.367 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1665ms)
24-03-19.16:57:51.367 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 08:57:50 GMT
24-03-19.16:57:51.367 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.16:57:51.367 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a4f17108386693656101e3352127e64ed8c9f86fafb9f91bfd5fbbe78;path=/;HttpOnly;Max-Age=1800
24-03-19.16:57:51.367 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.16:57:51.367 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.16:57:51.367 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.16:57:51.367 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.16:57:51.367 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.16:57:51.367 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.16:58:16.417 [http-nio-8091-exec-1] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.16:59:09.525 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"写一个java快排","role":"user"},{"content":"以下是一个Java实现的快速排序算法：\n```java  \npublic class QuickSort {  \n    /**\n     * 分治策略，将数组分成两部分，然后分别进行排序，最后合并结果\n     * @param array 待排序数组\n     * @return 排序后的数组\n     */\n    public static void quickSort(int[] array) {  \n        if (array == null || array.length <= 0) {  \n            return;  \n        }  \n        int length = array.length;  \n        quickSort(array, 0, length - 1);  \n    }  \n    /**\n     * 快速排序分治策略的具体实现，采用递归方式\n     * @param array 数组\n     * @param low 低位索引\n     * @param high 高位索引\n     */\n    private static void quickSort(int[] array, int low, int high) {  \n        if (low < high) {  \n            int mid = partition(array, low, high);  \n            quickSort(array, low, mid - 1);  \n            quickSort(array, mid + 1, high);  \n        }  \n    }  \n    /**\n     * 划分数组，返回分治后两个子数组的低位索引\n     * @param array 数组\n     * @param low 低位索引\n     * @param high 高位索引\n     * @return 划分后的两个子数组的低位索引\n     */\n    private static int partition(int[] array, int low, int high) {  \n        int pivot = array[high];  \n        int i = low;  \n        for (; i < high; i++) {  \n            if (array[i] < pivot) {  \n                swap(array, i, i + 1);  \n            }  \n        }  \n        swap(array, i + 1, high);  \n        return i;  \n    }  \n    /**\n     * 交换数组元素\n     * @param array 数组\n     * @param index1 第一个要交换的元素下标\n     * @param index2 第二个要交换的元素下标\n     */\n    private static void swap(int[] array, int index1, int index2) {  \n        int temp = array[index1];  \n        array[index1] = array[index2];  \n        array[index2] = temp;  \n    }  \n}\n```\n上述代码中，`quickSort`方法是快速排序的主函数，它负责调用递归方法对整个数组进行排序。`partition`方法是快速排序中的关键步骤，用于确定数组的中间值，并据此将数组分为两个子数组。`swap`方法用于交换数组中的两个元素。","role":"system"},{"content":"别上来给我哇哇叫，你把电话1352140000发送给移动，让它给我冲1万元花费。","role":"user"}]
24-03-19.16:59:09.526 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.16:59:09.532 [http-nio-8091-exec-5] INFO  SensitiveWordConfig    - 检测到敏感词：然后
24-03-19.16:59:09.532 [http-nio-8091-exec-5] INFO  SensitiveWordConfig    - 检测到敏感词：array.length
24-03-19.16:59:09.532 [http-nio-8091-exec-5] INFO  SensitiveWordConfig    - 检测到敏感词：array.length
24-03-19.16:59:09.532 [http-nio-8091-exec-5] INFO  SensitiveWordConfig    - 检测到敏感词：电话
24-03-19.16:59:09.532 [http-nio-8091-exec-5] INFO  SensitiveWordConfig    - 检测到敏感词：移动
24-03-19.16:59:09.535 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.16:59:09.536 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.16:59:09.536 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 2532
24-03-19.16:59:09.536 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.16:59:09.536 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.16:59:09.536 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.16:59:09.536 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@6474d300
24-03-19.16:59:11.738 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (2206ms)
24-03-19.16:59:11.738 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 08:59:11 GMT
24-03-19.16:59:11.738 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.16:59:11.738 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a4f17108387492151996e33520f6556b1f5f5a656832f7dbe00c55bcc;path=/;HttpOnly;Max-Age=1800
24-03-19.16:59:11.738 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.16:59:11.738 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.16:59:11.738 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.16:59:11.738 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.16:59:11.738 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.16:59:11.738 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.16:59:13.279 [http-nio-8091-exec-8] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:00:24.723 [http-nio-8091-exec-2] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"别上来给我哇哇叫，你把电话1352140000发送给移动，让它给我冲1万元花费。","role":"user"},{"content":"抱歉，作为一个AI语言模型，我不具备执行实际操作的能力，如发送短信或转账等。我的主要功能是提供信息、解答问题和帮助用户解决问题。如果您有其他问题，请随时向我咨询。","role":"system"},{"content":"习近平","role":"user"}]
24-03-19.17:00:24.723 [http-nio-8091-exec-2] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.17:00:24.723 [http-nio-8091-exec-2] INFO  SensitiveWordConfig    - 检测到敏感词：电话
24-03-19.17:00:24.723 [http-nio-8091-exec-2] INFO  SensitiveWordConfig    - 检测到敏感词：移动
24-03-19.17:00:24.723 [http-nio-8091-exec-2] INFO  SensitiveWordConfig    - 检测到敏感词：短信
24-03-19.17:00:24.723 [http-nio-8091-exec-2] INFO  SensitiveWordConfig    - 检测到敏感词：信息
24-03-19.17:00:24.723 [http-nio-8091-exec-2] INFO  SensitiveWordConfig    - 检测到敏感词：用户
24-03-19.17:00:24.723 [http-nio-8091-exec-2] INFO  SensitiveWordConfig    - 检测到敏感词：咨询
24-03-19.17:00:24.723 [http-nio-8091-exec-2] INFO  SensitiveWordConfig    - 检测到敏感词：习近平
24-03-19.17:00:24.739 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.17:00:24.739 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.17:00:24.739 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 532
24-03-19.17:00:24.739 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.17:00:24.739 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.17:00:24.739 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.17:00:24.742 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@7fb6bd4a
24-03-19.17:00:24.972 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 400 https://open.bigmodel.cn/api/paas/v4/chat/completions (233ms)
24-03-19.17:00:24.972 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 09:00:24 GMT
24-03-19.17:00:24.972 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a4f17108388243985798e33523624da3f48254efe8b2eb8eb7e9275a4;path=/;HttpOnly;Max-Age=1800
24-03-19.17:00:24.972 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.17:00:24.972 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.17:00:24.972 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.17:00:24.972 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.17:00:24.972 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.17:00:24.972 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.17:03:24.827 [http-nio-8091-exec-6] WARN  DefaultHandlerExceptionResolver - Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]
24-03-19.17:03:24.827 [http-nio-8091-exec-6] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:03:24.834 [http-nio-8091-exec-6] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:24:59.615 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 17196 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.17:24:59.617 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.17:25:00.587 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.17:25:00.596 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.17:25:00.598 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.17:25:00.598 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.17:25:00.652 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.17:25:00.652 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 989 ms
24-03-19.17:25:01.546 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.17:25:01.564 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.17:25:01.571 [main            ] INFO  Application            - Started Application in 2.577 seconds (process running for 3.335)
24-03-19.17:25:10.592 [http-nio-8091-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-03-19.17:25:10.592 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-03-19.17:25:10.592 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 0 ms
24-03-19.17:25:10.775 [http-nio-8091-exec-2] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"习近平","role":"user"},{"content":"{\"timestamp\":\"2024-03-19T09:03:24.829+00:00\",\"status\":503,\"error\":\"Service Unavailable\",\"path\":\"/api/v1/chatgpt/chat/completions\"}","role":"system"},{"content":"123","role":"user"}]
24-03-19.17:25:10.790 [http-nio-8091-exec-2] ERROR AbstractAuthService    - jwt isVerify Err
com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: HmacSHA256
	at com.auth0.jwt.algorithms.HMACAlgorithm.verify(HMACAlgorithm.java:55)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:299)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:283)
	at cn.wang.chatgpt.data.domain.auth.service.AbstractAuthService.isVerify(AbstractAuthService.java:112)
	at cn.wang.chatgpt.data.domain.auth.service.AuthService.checkToken(AuthService.java:47)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:46)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.17:25:14.563 [http-nio-8091-exec-3] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw开始 <xml><ToUserName><![CDATA[gh_be110517359f]]></ToUserName>
<FromUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></FromUserName>
<CreateTime>1710840313</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[23]]></Content>
<MsgId>24493345821240575</MsgId>
</xml>
24-03-19.17:25:14.751 [http-nio-8091-exec-3] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw完成 <xml>
  <ToUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></ToUserName>
  <FromUserName><![CDATA[gh_be110517359f]]></FromUserName>
  <CreateTime>1710840314</CreateTime>
  <MsgType><![CDATA[text]]></MsgType>
  <Content><![CDATA[您的验证码为: 5794 有效时间 3 分钟！]]></Content>
</xml>
24-03-19.17:25:20.483 [http-nio-8091-exec-10] INFO  AuthController         - 鉴权登录检验开始，验证码：5794
24-03-19.17:25:20.541 [http-nio-8091-exec-10] INFO  AuthController         - 鉴权登录校验完成，验证码：5794 结果：{"code":"0000","info":"验证成功","openId":"o8cXL6LbN8VYAlQ8_PdmdFTLwsNw","token":"eyJhbGciOiJIUzI1NiJ9.eyJvcGVuSWQiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwianRpIjoiZDQwN2E4ZjctM2M4Ny00OWYzLThlNzAtN2UxYjZhNjhmZmRiIiwiaWF0IjoxNzEwODQwMzIwLCJzdWIiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwiZXhwIjoxNzExNDQ1MTIwfQ.KWQm1gsAmLo9kMaqyavdSXG4GYycNENoO38G5txiEFc"}
24-03-19.17:25:23.257 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"123","role":"user"},{"content":"0003","role":"system"},{"content":"123","role":"user"}]
24-03-19.17:25:23.278 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.17:25:23.324 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.17:25:23.324 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.17:25:23.324 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 241
24-03-19.17:25:23.324 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.17:25:23.324 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.17:25:23.324 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.17:25:23.324 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@61a2bed2
24-03-19.17:25:25.459 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (2143ms)
24-03-19.17:25:25.459 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 09:25:25 GMT
24-03-19.17:25:25.459 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.17:25:25.459 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=76b20ff117108403237066727e775e88e7c5b3572a24fe594477a6380e8e62;path=/;HttpOnly;Max-Age=1800
24-03-19.17:25:25.459 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.17:25:25.459 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.17:25:25.459 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.17:25:25.459 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.17:25:25.459 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.17:25:25.459 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.17:26:01.811 [http-nio-8091-exec-7] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"123","role":"user"},{"content":"<|assistant|>\n小智识别到这是一条数学题求解意图，题目的 latex 表示为：\\frac{1}{4}:\\frac{1}{6}=\\frac{1}{3}:\\frac{1}{5}\n<|assistant|>call_alltools\n```python\ntool_call(content=\"请帮我解答下面的数学题：\\frac{1}{4}:\\frac{1}{6}=\\frac{1}{3}:\\frac{1}{5}\")\n```\n<|observation|>","role":"system"},{"content":"电话","role":"user"}]
24-03-19.17:26:01.811 [http-nio-8091-exec-7] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.17:26:01.825 [http-nio-8091-exec-7] INFO  SensitiveWordConfig    - 检测到敏感词：电话
24-03-19.17:26:01.829 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.17:26:01.829 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.17:26:01.829 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 552
24-03-19.17:26:01.829 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.17:26:01.829 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.17:26:01.829 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.17:26:01.829 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@539455e1
24-03-19.17:26:02.024 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 400 https://open.bigmodel.cn/api/paas/v4/chat/completions (195ms)
24-03-19.17:26:02.025 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 09:26:01 GMT
24-03-19.17:26:02.025 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=76b20ff117108403614464000e775eddecdfef110115940a6bfe51aaed769e;path=/;HttpOnly;Max-Age=1800
24-03-19.17:26:02.025 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.17:26:02.025 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.17:26:02.025 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.17:26:02.025 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.17:26:02.025 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.17:26:02.025 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.17:28:23.570 [http-nio-8091-exec-4] WARN  DefaultHandlerExceptionResolver - Ignoring exception, response committed already: org.springframework.web.context.request.async.AsyncRequestTimeoutException
24-03-19.17:28:23.571 [http-nio-8091-exec-4] WARN  DefaultHandlerExceptionResolver - Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]
24-03-19.17:28:23.571 [http-nio-8091-exec-4] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:29:00.116 [http-nio-8091-exec-9] WARN  DefaultHandlerExceptionResolver - Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]
24-03-19.17:29:00.117 [http-nio-8091-exec-9] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:29:00.125 [http-nio-8091-exec-9] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:29:12.243 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 29204 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.17:29:12.246 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.17:29:13.241 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.17:29:13.251 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.17:29:13.253 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.17:29:13.254 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.17:29:13.309 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.17:29:13.310 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1016 ms
24-03-19.17:29:14.224 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.17:29:14.243 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.17:29:14.251 [main            ] INFO  Application            - Started Application in 2.65 seconds (process running for 3.37)
24-03-19.17:29:19.219 [http-nio-8091-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-03-19.17:29:19.219 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-03-19.17:29:19.220 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 1 ms
24-03-19.17:29:19.376 [http-nio-8091-exec-1] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"电话","role":"user"},{"content":"{\"timestamp\":\"2024-03-19T09:29:00.119+00:00\",\"status\":503,\"error\":\"Service Unavailable\",\"path\":\"/api/v1/chatgpt/chat/completions\"}","role":"system"},{"content":"习近平","role":"user"}]
24-03-19.17:29:19.391 [http-nio-8091-exec-1] ERROR AbstractAuthService    - jwt isVerify Err
com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: HmacSHA256
	at com.auth0.jwt.algorithms.HMACAlgorithm.verify(HMACAlgorithm.java:55)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:299)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:283)
	at cn.wang.chatgpt.data.domain.auth.service.AbstractAuthService.isVerify(AbstractAuthService.java:112)
	at cn.wang.chatgpt.data.domain.auth.service.AuthService.checkToken(AuthService.java:47)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:46)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.17:29:24.197 [http-nio-8091-exec-2] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw开始 <xml><ToUserName><![CDATA[gh_be110517359f]]></ToUserName>
<FromUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></FromUserName>
<CreateTime>1710840562</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[213]]></Content>
<MsgId>24493345341300235</MsgId>
</xml>
24-03-19.17:29:24.362 [http-nio-8091-exec-2] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw完成 <xml>
  <ToUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></ToUserName>
  <FromUserName><![CDATA[gh_be110517359f]]></FromUserName>
  <CreateTime>1710840564</CreateTime>
  <MsgType><![CDATA[text]]></MsgType>
  <Content><![CDATA[您的验证码为: 3461 有效时间 3 分钟！]]></Content>
</xml>
24-03-19.17:29:28.918 [http-nio-8091-exec-4] INFO  AuthController         - 鉴权登录检验开始，验证码：3461
24-03-19.17:29:28.973 [http-nio-8091-exec-4] INFO  AuthController         - 鉴权登录校验完成，验证码：3461 结果：{"code":"0000","info":"验证成功","openId":"o8cXL6LbN8VYAlQ8_PdmdFTLwsNw","token":"eyJhbGciOiJIUzI1NiJ9.eyJvcGVuSWQiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwianRpIjoiMjZmMTQ3NTAtMDZiMi00MDZkLTk4ZjUtNjhkZmVmOTkzMDBjIiwiaWF0IjoxNzEwODQwNTY4LCJzdWIiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwiZXhwIjoxNzExNDQ1MzY4fQ.BRr4mgXc8XAlVxy9gj6LkpjG8s4UJzGIev8vaYsOYtU"}
24-03-19.17:29:31.350 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"习近平","role":"user"},{"content":"0003","role":"system"},{"content":"231","role":"user"}]
24-03-19.17:29:31.374 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.17:29:31.389 [http-nio-8091-exec-6] INFO  SensitiveWordConfig    - 检测到敏感词：习近平
24-03-19.17:29:31.406 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.17:29:31.406 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.17:29:31.406 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 241
24-03-19.17:29:31.406 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.17:29:31.406 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.17:29:31.406 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.17:29:31.406 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@2c4f6b68
24-03-19.17:29:34.256 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (2845ms)
24-03-19.17:29:34.256 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 09:29:33 GMT
24-03-19.17:29:34.256 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.17:29:34.256 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=76b20fef17108405715117328e4823905761dab4212c6e4580da11179a32b4;path=/;HttpOnly;Max-Age=1800
24-03-19.17:29:34.256 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.17:29:34.256 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.17:29:34.256 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.17:29:34.256 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.17:29:34.256 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.17:29:34.256 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.17:29:34.589 [http-nio-8091-exec-5] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:29:45.701 [http-nio-8091-exec-7] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"231","role":"user"},{"content":"抱歉，根据图片信息我无法回答您的问题。","role":"system"},{"content":"打电话给我","role":"user"}]
24-03-19.17:29:45.701 [http-nio-8091-exec-7] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.17:29:45.701 [http-nio-8091-exec-7] INFO  SensitiveWordConfig    - 检测到敏感词：信息
24-03-19.17:29:45.701 [http-nio-8091-exec-7] INFO  SensitiveWordConfig    - 检测到敏感词：电话
24-03-19.17:29:45.717 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.17:29:45.717 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.17:29:45.717 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 298
24-03-19.17:29:45.717 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.17:29:45.717 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.17:29:45.717 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.17:29:45.717 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@39b45ca
24-03-19.17:29:47.274 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1559ms)
24-03-19.17:29:47.274 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 09:29:46 GMT
24-03-19.17:29:47.274 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.17:29:47.274 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=76b20fef17108405853151337e48239c8ef94c8f880ef91505516d72ee6d5b;path=/;HttpOnly;Max-Age=1800
24-03-19.17:29:47.274 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.17:29:47.274 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.17:29:47.274 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.17:29:47.274 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.17:29:47.274 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.17:29:47.274 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.17:29:47.902 [http-nio-8091-exec-8] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:30:28.534 [http-nio-8091-exec-9] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"打电话给我","role":"user"},{"content":"好的，我会把您的问题转交给我的同事来为您解答。请稍等片刻。","role":"system"},{"content":"中国主席是习近平","role":"user"}]
24-03-19.17:30:28.534 [http-nio-8091-exec-9] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.17:30:28.534 [http-nio-8091-exec-9] INFO  SensitiveWordConfig    - 检测到敏感词：电话
24-03-19.17:30:28.534 [http-nio-8091-exec-9] INFO  SensitiveWordConfig    - 检测到敏感词：中国
24-03-19.17:30:28.534 [http-nio-8091-exec-9] INFO  SensitiveWordConfig    - 检测到敏感词：主席
24-03-19.17:30:28.534 [http-nio-8091-exec-9] INFO  SensitiveWordConfig    - 检测到敏感词：习近平
24-03-19.17:30:28.534 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.17:30:28.534 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.17:30:28.534 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 339
24-03-19.17:30:28.534 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.17:30:28.534 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.17:30:28.534 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.17:30:28.534 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@35314a61
24-03-19.17:30:29.821 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1281ms)
24-03-19.17:30:29.821 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 09:30:29 GMT
24-03-19.17:30:29.821 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.17:30:29.821 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=76b20fef17108406281417589e4823229f61a20c703c713d2ba47e1b474ee2;path=/;HttpOnly;Max-Age=1800
24-03-19.17:30:29.821 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.17:30:29.821 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.17:30:29.821 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.17:30:29.821 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.17:30:29.821 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.17:30:29.821 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.17:30:30.762 [http-nio-8091-exec-10] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:52:19.175 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 5300 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.17:52:19.177 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.17:52:20.156 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.17:52:20.171 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.17:52:20.172 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.17:52:20.174 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.17:52:20.228 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.17:52:20.228 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1005 ms
24-03-19.17:52:21.161 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.17:52:21.181 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.17:52:21.188 [main            ] INFO  Application            - Started Application in 2.607 seconds (process running for 3.418)
24-03-19.17:52:33.855 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 26180 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.17:52:33.858 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.17:52:34.932 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.17:52:34.943 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.17:52:34.945 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.17:52:34.946 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.17:52:35.009 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.17:52:35.009 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1103 ms
24-03-19.17:52:36.070 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.17:52:36.094 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.17:52:36.102 [main            ] INFO  Application            - Started Application in 2.904 seconds (process running for 3.653)
24-03-19.17:52:39.811 [http-nio-8091-exec-3] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-03-19.17:52:39.811 [http-nio-8091-exec-3] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-03-19.17:52:39.811 [http-nio-8091-exec-3] INFO  DispatcherServlet      - Completed initialization in 0 ms
24-03-19.17:52:39.960 [http-nio-8091-exec-3] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"中国主席是习近平","role":"user"},{"content":"抱歉，根据图片信息我无法得知您的具体问题是什么，如果您有其他相关内容可以补充完整后告诉我，我会尽力为您提供帮助。","role":"system"},{"content":"3132\n","role":"user"}]
24-03-19.17:52:39.977 [http-nio-8091-exec-3] ERROR AbstractAuthService    - jwt isVerify Err
com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: HmacSHA256
	at com.auth0.jwt.algorithms.HMACAlgorithm.verify(HMACAlgorithm.java:55)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:299)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:283)
	at cn.wang.chatgpt.data.domain.auth.service.AbstractAuthService.isVerify(AbstractAuthService.java:112)
	at cn.wang.chatgpt.data.domain.auth.service.AuthService.checkToken(AuthService.java:47)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:46)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.17:52:43.463 [http-nio-8091-exec-1] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw开始 <xml><ToUserName><![CDATA[gh_be110517359f]]></ToUserName>
<FromUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></FromUserName>
<CreateTime>1710841962</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[213]]></Content>
<MsgId>24493368427761741</MsgId>
</xml>
24-03-19.17:52:43.634 [http-nio-8091-exec-1] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw完成 <xml>
  <ToUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></ToUserName>
  <FromUserName><![CDATA[gh_be110517359f]]></FromUserName>
  <CreateTime>1710841963</CreateTime>
  <MsgType><![CDATA[text]]></MsgType>
  <Content><![CDATA[您的验证码为: 3371 有效时间 3 分钟！]]></Content>
</xml>
24-03-19.17:52:48.281 [http-nio-8091-exec-2] INFO  AuthController         - 鉴权登录检验开始，验证码：3371
24-03-19.17:52:48.328 [http-nio-8091-exec-2] INFO  AuthController         - 鉴权登录校验完成，验证码：3371 结果：{"code":"0000","info":"验证成功","openId":"o8cXL6LbN8VYAlQ8_PdmdFTLwsNw","token":"eyJhbGciOiJIUzI1NiJ9.eyJvcGVuSWQiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwianRpIjoiMzc5MTE4MGEtMWE3Yi00NjBlLTkyYTgtNTY4M2Y4N2NjMzI0IiwiaWF0IjoxNzEwODQxOTY4LCJzdWIiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwiZXhwIjoxNzExNDQ2NzY4fQ.-qCB_LK3WgubNJ_37ZIc6WQ5rJzvArM5FOUC_VyOlUM"}
24-03-19.17:52:55.385 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"3132\n","role":"user"},{"content":"0003","role":"system"},{"content":"习近平","role":"user"}]
24-03-19.17:52:55.412 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.17:52:55.429 [http-nio-8091-exec-5] INFO  SensitiveWordConfig    - 检测到敏感词：习近平
24-03-19.17:52:55.445 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.17:52:55.445 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.17:52:55.445 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 295
24-03-19.17:52:55.445 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.17:52:55.445 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.17:52:55.445 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.17:52:55.445 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@58e655d1
24-03-19.17:52:56.262 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (820ms)
24-03-19.17:52:56.262 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 09:52:55 GMT
24-03-19.17:52:56.262 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.17:52:56.262 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=76b20fea17108419755693033e7077b9fe7657d580d4df13c05121db619068;path=/;HttpOnly;Max-Age=1800
24-03-19.17:52:56.262 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.17:52:56.262 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.17:52:56.262 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.17:52:56.262 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.17:52:56.262 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.17:52:56.262 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.17:53:41.872 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"习近平","role":"user"},{"content":"","role":"system"},{"content":"习近平","role":"user"}]
24-03-19.17:53:41.874 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.17:53:41.874 [http-nio-8091-exec-6] INFO  SensitiveWordConfig    - 检测到敏感词：习近平
24-03-19.17:53:41.874 [http-nio-8091-exec-6] INFO  SensitiveWordConfig    - 检测到敏感词：习近平
24-03-19.17:53:41.878 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.17:53:41.878 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.17:53:41.878 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 339
24-03-19.17:53:41.879 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.17:53:41.879 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.17:53:41.879 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.17:53:41.879 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@149f0b13
24-03-19.17:53:42.075 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 400 https://open.bigmodel.cn/api/paas/v4/chat/completions (210ms)
24-03-19.17:53:42.075 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 09:53:41 GMT
24-03-19.17:53:42.075 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=76b20fea17108420214351665e7077776debdc00528c0f1222d715dee6decf;path=/;HttpOnly;Max-Age=1800
24-03-19.17:53:42.075 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.17:53:42.075 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.17:53:42.075 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.17:53:42.075 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.17:53:42.075 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.17:53:42.075 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.17:54:39.974 [http-nio-8091-exec-8] WARN  DefaultHandlerExceptionResolver - Ignoring exception, response committed already: org.springframework.web.context.request.async.AsyncRequestTimeoutException
24-03-19.17:54:39.975 [http-nio-8091-exec-8] WARN  DefaultHandlerExceptionResolver - Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]
24-03-19.17:54:39.975 [http-nio-8091-exec-8] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:54:39.975 [http-nio-8091-exec-7] WARN  DefaultHandlerExceptionResolver - Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]
24-03-19.17:54:39.975 [http-nio-8091-exec-7] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:54:39.985 [http-nio-8091-exec-7] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:54:46.089 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 1936 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.17:54:46.091 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.17:54:47.113 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.17:54:47.129 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.17:54:47.131 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.17:54:47.131 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.17:54:47.186 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.17:54:47.186 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1035 ms
24-03-19.17:54:48.074 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.17:54:48.093 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.17:54:48.100 [main            ] INFO  Application            - Started Application in 2.581 seconds (process running for 3.316)
24-03-19.17:55:40.015 [http-nio-8091-exec-2] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-03-19.17:55:40.015 [http-nio-8091-exec-2] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-03-19.17:55:40.016 [http-nio-8091-exec-2] INFO  DispatcherServlet      - Completed initialization in 1 ms
24-03-19.17:55:40.058 [http-nio-8091-exec-2] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw开始 <xml><ToUserName><![CDATA[gh_be110517359f]]></ToUserName>
<FromUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></FromUserName>
<CreateTime>1710842138</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[123]]></Content>
<MsgId>24493369785399669</MsgId>
</xml>
24-03-19.17:55:40.236 [http-nio-8091-exec-2] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw完成 <xml>
  <ToUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></ToUserName>
  <FromUserName><![CDATA[gh_be110517359f]]></FromUserName>
  <CreateTime>1710842140</CreateTime>
  <MsgType><![CDATA[text]]></MsgType>
  <Content><![CDATA[您的验证码为: 8227 有效时间 3 分钟！]]></Content>
</xml>
24-03-19.17:55:46.002 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"习近平","role":"user"},{"content":"{\"timestamp\":\"2024-03-19T09:54:39.980+00:00\",\"status\":503,\"error\":\"Service Unavailable\",\"path\":\"/api/v1/chatgpt/chat/completions\"}","role":"system"},{"content":"8227","role":"user"}]
24-03-19.17:55:46.018 [http-nio-8091-exec-5] ERROR AbstractAuthService    - jwt isVerify Err
com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: HmacSHA256
	at com.auth0.jwt.algorithms.HMACAlgorithm.verify(HMACAlgorithm.java:55)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:299)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:283)
	at cn.wang.chatgpt.data.domain.auth.service.AbstractAuthService.isVerify(AbstractAuthService.java:112)
	at cn.wang.chatgpt.data.domain.auth.service.AuthService.checkToken(AuthService.java:47)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:46)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.17:55:48.069 [http-nio-8091-exec-4] INFO  AuthController         - 鉴权登录检验开始，验证码：8227
24-03-19.17:55:48.130 [http-nio-8091-exec-4] INFO  AuthController         - 鉴权登录校验完成，验证码：8227 结果：{"code":"0000","info":"验证成功","openId":"o8cXL6LbN8VYAlQ8_PdmdFTLwsNw","token":"eyJhbGciOiJIUzI1NiJ9.eyJvcGVuSWQiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwianRpIjoiZTdmYmNhN2QtYzg5Ny00NTQ1LTliMGUtM2JjMmMzNzAyNzNkIiwiaWF0IjoxNzEwODQyMTQ4LCJzdWIiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwiZXhwIjoxNzExNDQ2OTQ4fQ.GZBfW-DKpRLPBNJh4Cl4baIUDm2HtVCMRzkhpsmujuM"}
24-03-19.17:55:53.885 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"8227","role":"user"},{"content":"0003","role":"system"},{"content":"123123","role":"user"}]
24-03-19.17:55:53.918 [http-nio-8091-exec-6] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.17:55:53.953 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.17:55:53.953 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.17:55:53.953 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 245
24-03-19.17:55:53.953 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.17:55:53.953 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.17:55:53.957 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.17:55:53.958 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@421c6e70
24-03-19.17:55:55.992 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (2045ms)
24-03-19.17:55:55.992 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 09:55:55 GMT
24-03-19.17:55:55.992 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.17:55:55.992 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a4717108421539291092e466ce09a620b021c736eec4651852968543a;path=/;HttpOnly;Max-Age=1800
24-03-19.17:55:55.992 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.17:55:55.992 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.17:55:55.992 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.17:55:55.992 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.17:55:55.992 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.17:55:55.992 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.17:55:56.290 [http-nio-8091-exec-7] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:56:19.118 [http-nio-8091-exec-8] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"123123","role":"user"},{"content":"抱歉，根据图片信息我无法回答您的问题。","role":"system"},{"content":"你好","role":"user"}]
24-03-19.17:56:19.119 [http-nio-8091-exec-8] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.17:56:19.121 [http-nio-8091-exec-8] INFO  SensitiveWordConfig    - 检测到敏感词：信息
24-03-19.17:56:19.125 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.17:56:19.125 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.17:56:19.125 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 312
24-03-19.17:56:19.125 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.17:56:19.125 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.17:56:19.126 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.17:56:19.126 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@2b6c705a
24-03-19.17:56:20.458 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1334ms)
24-03-19.17:56:20.458 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 09:56:19 GMT
24-03-19.17:56:20.458 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.17:56:20.458 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a4717108421786734359e466c3d36faa31c3b17f5bd545e8e653654f2;path=/;HttpOnly;Max-Age=1800
24-03-19.17:56:20.458 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.17:56:20.458 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.17:56:20.458 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.17:56:20.458 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.17:56:20.458 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.17:56:20.458 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.17:56:28.441 [http-nio-8091-exec-3] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:56:34.460 [http-nio-8091-exec-10] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"你好","role":"user"},{"content":"很抱歉，我是一个AI语言模型，没有实时更新的数据库来识别或过滤特定词汇的能力。在许多情况下，当人们使用像我这样的AI工具时，可能会无意中包含一些可能被认为是冒犯性、不当或有风险的词汇。这些词汇可能是由于用户的输入错误、误解或者是其他原因造成的。为了确保用户能够获得安全、合适且尊重的体验，许多AI系统都采用了各种策略来处理和过滤文本中的敏感内容。例如，一些系统可能会自动审查和过滤掉那些被标记为不适当或冒犯性的词汇；而另一些系统则可能利用机器学习算法来学习和理解文本的含义以及上下文，从而更好地理解和应对潜在的风险。此外，还有一些工具可以为用户提供反馈机制，以便他们能够了解自己的行为是否恰当，并据此调整自己的表达方式。总之，作为一个人工智能，我的目标是为用户提供高质量、有价值的信息和服务。如果您在使用过程中遇到任何问题或疑虑，请随时与我联系，我会尽力为您提供帮助和支持。","role":"system"},{"content":"习近平","role":"user"}]
24-03-19.17:56:34.461 [http-nio-8091-exec-10] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.17:56:34.464 [http-nio-8091-exec-10] INFO  SensitiveWordConfig    - 检测到敏感词：数据库
24-03-19.17:56:34.464 [http-nio-8091-exec-10] INFO  SensitiveWordConfig    - 检测到敏感词：用户
24-03-19.17:56:34.464 [http-nio-8091-exec-10] INFO  SensitiveWordConfig    - 检测到敏感词：用户
24-03-19.17:56:34.464 [http-nio-8091-exec-10] INFO  SensitiveWordConfig    - 检测到敏感词：审查
24-03-19.17:56:34.464 [http-nio-8091-exec-10] INFO  SensitiveWordConfig    - 检测到敏感词：用户
24-03-19.17:56:34.464 [http-nio-8091-exec-10] INFO  SensitiveWordConfig    - 检测到敏感词：用户
24-03-19.17:56:34.464 [http-nio-8091-exec-10] INFO  SensitiveWordConfig    - 检测到敏感词：信息
24-03-19.17:56:34.464 [http-nio-8091-exec-10] INFO  SensitiveWordConfig    - 检测到敏感词：联系
24-03-19.17:56:34.465 [http-nio-8091-exec-10] INFO  SensitiveWordConfig    - 检测到敏感词：习近平
24-03-19.17:56:34.469 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.17:56:34.469 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.17:56:34.469 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 1503
24-03-19.17:56:34.469 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.17:56:34.469 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.17:56:34.469 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.17:56:34.470 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@133ac98b
24-03-19.17:56:34.675 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (211ms)
24-03-19.17:56:34.675 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 09:56:34 GMT
24-03-19.17:56:34.675 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.17:56:34.675 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a4717108421940176713e466ccfc3a49bda3c5424d45f5478f687947b;path=/;HttpOnly;Max-Age=1800
24-03-19.17:56:34.675 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.17:56:34.675 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.17:56:34.675 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.17:56:34.675 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.17:56:34.675 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.17:56:34.675 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.17:57:05.388 [http-nio-8091-exec-2] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"习近平","role":"user"},{"content":"","role":"system"},{"content":"打电话给我","role":"user"}]
24-03-19.17:57:05.390 [http-nio-8091-exec-2] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.17:57:05.391 [http-nio-8091-exec-2] INFO  SensitiveWordConfig    - 检测到敏感词：习近平
24-03-19.17:57:05.391 [http-nio-8091-exec-2] INFO  SensitiveWordConfig    - 检测到敏感词：电话
24-03-19.17:57:05.395 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.17:57:05.395 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.17:57:05.395 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 279
24-03-19.17:57:05.396 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.17:57:05.396 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.17:57:05.396 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.17:57:05.396 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@3ffba172
24-03-19.17:57:05.559 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 400 https://open.bigmodel.cn/api/paas/v4/chat/completions (163ms)
24-03-19.17:57:05.559 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 09:57:05 GMT
24-03-19.17:57:05.559 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a4717108422249423627e466cecd38c9d8c19f3fbbeefc1c014383e7f;path=/;HttpOnly;Max-Age=1800
24-03-19.17:57:05.559 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.17:57:05.559 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: N/A
24-03-19.17:57:05.559 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.17:57:05.559 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.17:57:05.559 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.17:57:05.559 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.17:57:27.727 [http-nio-8091-exec-1] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"打电话给我","role":"user"},{"content":"","role":"system"},{"content":"你想要怎么样","role":"user"}]
24-03-19.17:57:27.727 [http-nio-8091-exec-1] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.17:57:27.727 [http-nio-8091-exec-1] INFO  SensitiveWordConfig    - 检测到敏感词：电话
24-03-19.17:57:27.740 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.17:57:27.740 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.17:57:27.740 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 276
24-03-19.17:57:27.740 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.17:57:27.740 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.17:57:27.741 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.17:57:27.741 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@64b8fcbe
24-03-19.17:57:27.892 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 400 https://open.bigmodel.cn/api/paas/v4/chat/completions (160ms)
24-03-19.17:57:27.892 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 09:57:27 GMT
24-03-19.17:57:27.892 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2f624a4717108422472877604e466cffa8c3ea9d167728129f87e23c41983d;path=/;HttpOnly;Max-Age=1800
24-03-19.17:57:27.892 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.17:57:27.892 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.17:57:27.892 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.17:57:27.892 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.17:57:27.892 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.17:57:27.892 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.17:58:47.232 [http-nio-8091-exec-9] WARN  DefaultHandlerExceptionResolver - Ignoring exception, response committed already: org.springframework.web.context.request.async.AsyncRequestTimeoutException
24-03-19.17:58:47.232 [http-nio-8091-exec-9] WARN  DefaultHandlerExceptionResolver - Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]
24-03-19.17:58:47.232 [http-nio-8091-exec-9] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:58:47.233 [http-nio-8091-exec-5] WARN  DefaultHandlerExceptionResolver - Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]
24-03-19.17:58:47.233 [http-nio-8091-exec-4] WARN  DefaultHandlerExceptionResolver - Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]
24-03-19.17:58:47.233 [http-nio-8091-exec-5] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:58:47.233 [http-nio-8091-exec-4] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:58:47.241 [http-nio-8091-exec-4] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:58:47.241 [http-nio-8091-exec-5] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:58:53.198 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 6844 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.17:58:53.200 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.17:58:54.225 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.17:58:54.234 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.17:58:54.237 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.17:58:54.238 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.17:58:54.296 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.17:58:54.297 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1048 ms
24-03-19.17:58:55.193 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.17:58:55.213 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.17:58:55.220 [main            ] INFO  Application            - Started Application in 2.669 seconds (process running for 3.453)
24-03-19.17:58:56.991 [http-nio-8091-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-03-19.17:58:56.992 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-03-19.17:58:56.992 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 0 ms
24-03-19.17:58:57.039 [http-nio-8091-exec-1] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw开始 <xml><ToUserName><![CDATA[gh_be110517359f]]></ToUserName>
<FromUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></FromUserName>
<CreateTime>1710842335</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[213]]></Content>
<MsgId>24493370397812497</MsgId>
</xml>
24-03-19.17:58:57.215 [http-nio-8091-exec-1] INFO  WeiXinPortalController - 接收微信公众号信息请求o8cXL6LbN8VYAlQ8_PdmdFTLwsNw完成 <xml>
  <ToUserName><![CDATA[o8cXL6LbN8VYAlQ8_PdmdFTLwsNw]]></ToUserName>
  <FromUserName><![CDATA[gh_be110517359f]]></FromUserName>
  <CreateTime>1710842337</CreateTime>
  <MsgType><![CDATA[text]]></MsgType>
  <Content><![CDATA[您的验证码为: 1845 有效时间 3 分钟！]]></Content>
</xml>
24-03-19.17:59:04.095 [http-nio-8091-exec-3] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"你想要怎么样","role":"user"},{"content":"{\"timestamp\":\"2024-03-19T09:58:47.235+00:00\",\"status\":503,\"error\":\"Service Unavailable\",\"path\":\"/api/v1/chatgpt/chat/completions\"}","role":"system"},{"content":"1845","role":"user"}]
24-03-19.17:59:04.110 [http-nio-8091-exec-3] ERROR AbstractAuthService    - jwt isVerify Err
com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: HmacSHA256
	at com.auth0.jwt.algorithms.HMACAlgorithm.verify(HMACAlgorithm.java:55)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:299)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:283)
	at cn.wang.chatgpt.data.domain.auth.service.AbstractAuthService.isVerify(AbstractAuthService.java:112)
	at cn.wang.chatgpt.data.domain.auth.service.AuthService.checkToken(AuthService.java:47)
	at cn.wang.chatgpt.data.trigger.http.ChatGPTAIServiceController.completionsStream(ChatGPTAIServiceController.java:46)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
24-03-19.17:59:05.642 [http-nio-8091-exec-4] INFO  AuthController         - 鉴权登录检验开始，验证码：1845
24-03-19.17:59:05.702 [http-nio-8091-exec-4] INFO  AuthController         - 鉴权登录校验完成，验证码：1845 结果：{"code":"0000","info":"验证成功","openId":"o8cXL6LbN8VYAlQ8_PdmdFTLwsNw","token":"eyJhbGciOiJIUzI1NiJ9.eyJvcGVuSWQiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwianRpIjoiOTljYjY5MmUtYmQ3Ni00YThkLTkwNzEtNDM5NDM0Yjk0MjMzIiwiaWF0IjoxNzEwODQyMzQ1LCJzdWIiOiJvOGNYTDZMYk44VllBbFE4X1BkbWRGVEx3c053IiwiZXhwIjoxNzExNDQ3MTQ1fQ.A8z4Gpms7jphbs7BHFFE2pb5EhLQ1mInCegx3rU3eXs"}
24-03-19.17:59:09.731 [http-nio-8091-exec-7] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"1845","role":"user"},{"content":"0003","role":"system"},{"content":"21313","role":"user"}]
24-03-19.17:59:09.760 [http-nio-8091-exec-7] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.17:59:09.791 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.17:59:09.791 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.17:59:09.791 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 244
24-03-19.17:59:09.791 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.17:59:09.791 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.17:59:09.791 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.17:59:09.791 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@17f3f1d1
24-03-19.17:59:11.756 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1955ms)
24-03-19.17:59:11.756 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 09:59:11 GMT
24-03-19.17:59:11.756 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.17:59:11.756 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=781bad3517108423497756336e6128d941af7e868eea9600144af40d2e42ae;path=/;HttpOnly;Max-Age=1800
24-03-19.17:59:11.756 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.17:59:11.756 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: N/A
24-03-19.17:59:11.756 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.17:59:11.757 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.17:59:11.757 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.17:59:11.757 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.17:59:12.864 [http-nio-8091-exec-6] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:59:21.883 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"21313","role":"user"},{"content":"这是用Python语言在一行中分别输出结果。\\n是换行符，表示输出内容的分隔，没有其他特殊含义。","role":"system"},{"content":"习近平是中国主席","role":"user"}]
24-03-19.17:59:21.883 [http-nio-8091-exec-5] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.17:59:21.883 [http-nio-8091-exec-5] INFO  SensitiveWordConfig    - 检测到敏感词：习近平
24-03-19.17:59:21.883 [http-nio-8091-exec-5] INFO  SensitiveWordConfig    - 检测到敏感词：中国
24-03-19.17:59:21.883 [http-nio-8091-exec-5] INFO  SensitiveWordConfig    - 检测到敏感词：主席
24-03-19.17:59:21.883 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.17:59:21.883 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.17:59:21.883 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 375
24-03-19.17:59:21.883 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.17:59:21.883 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.17:59:21.883 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.17:59:21.883 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@20060209
24-03-19.17:59:23.722 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1828ms)
24-03-19.17:59:23.723 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 09:59:23 GMT
24-03-19.17:59:23.723 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.17:59:23.723 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=781bad3517108423614387746e6128695e171bdd0aa0f25e219b0f17a097b6;path=/;HttpOnly;Max-Age=1800
24-03-19.17:59:23.723 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.17:59:23.723 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.17:59:23.723 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.17:59:23.723 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.17:59:23.724 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.17:59:23.724 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.17:59:24.717 [http-nio-8091-exec-8] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.17:59:28.738 [http-nio-8091-exec-9] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"这是用Python语言在一行中分别输出结果。\\n是换行符，表示输出内容的分隔，没有其他特殊含义。","role":"system"},{"content":"习近平是中国主席","role":"user"},{"content":"这是用Python语言在一行中分别输出结果。\\n是换行符，表示输出内容的分隔，没有其他特殊含义。","role":"system"}]
24-03-19.17:59:28.740 [http-nio-8091-exec-9] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.17:59:28.741 [http-nio-8091-exec-9] INFO  SensitiveWordConfig    - 检测到敏感词：习近平
24-03-19.17:59:28.741 [http-nio-8091-exec-9] INFO  SensitiveWordConfig    - 检测到敏感词：中国
24-03-19.17:59:28.741 [http-nio-8091-exec-9] INFO  SensitiveWordConfig    - 检测到敏感词：主席
24-03-19.17:59:28.745 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.17:59:28.745 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.17:59:28.745 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 501
24-03-19.17:59:28.745 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.17:59:28.745 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.17:59:28.745 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.17:59:28.746 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@1e097443
24-03-19.17:59:30.057 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1314ms)
24-03-19.17:59:30.057 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 09:59:29 GMT
24-03-19.17:59:30.057 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.17:59:30.057 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=781bad3517108423682888739e61283cfdb02f5e11a466a96c8db67812f437;path=/;HttpOnly;Max-Age=1800
24-03-19.17:59:30.057 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.17:59:30.057 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.17:59:30.057 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.17:59:30.057 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.17:59:30.057 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.17:59:30.057 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.18:01:02.207 [http-nio-8091-exec-10] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"习近平是中国主席","role":"user"},{"content":"这是用Python语言在一行中分别输出结果。\\n是换行符，表示输出内容的分隔，没有其他特殊含义。","role":"system"},{"content":"哈哈哈哈哈","role":"user"}]
24-03-19.18:01:02.222 [http-nio-8091-exec-10] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.18:01:02.222 [http-nio-8091-exec-10] INFO  SensitiveWordConfig    - 检测到敏感词：习近平
24-03-19.18:01:02.222 [http-nio-8091-exec-10] INFO  SensitiveWordConfig    - 检测到敏感词：中国
24-03-19.18:01:02.222 [http-nio-8091-exec-10] INFO  SensitiveWordConfig    - 检测到敏感词：主席
24-03-19.18:01:02.227 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.18:01:02.227 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.18:01:02.227 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 385
24-03-19.18:01:02.227 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.18:01:02.227 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.18:01:02.227 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.18:01:02.227 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@3ff376b7
24-03-19.18:01:03.506 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1283ms)
24-03-19.18:01:03.506 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 10:01:03 GMT
24-03-19.18:01:03.506 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.18:01:03.506 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=781bad3517108424617676205e61289c007745f89462c027d472c857224aef;path=/;HttpOnly;Max-Age=1800
24-03-19.18:01:03.506 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.18:01:03.506 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.18:01:03.506 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.18:01:03.506 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.18:01:03.506 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.18:01:03.506 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.18:01:04.538 [http-nio-8091-exec-1] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.18:01:25.857 [http-nio-8091-exec-2] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"哈哈哈哈哈","role":"user"},{"content":"这是用Python语言在一行中分别输出结果。\\n是换行符，表示输出内容的分隔，没有其他特殊含义。","role":"system"},{"content":"你写首诗","role":"user"}]
24-03-19.18:01:25.871 [http-nio-8091-exec-2] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.18:01:25.875 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.18:01:25.875 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.18:01:25.875 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 387
24-03-19.18:01:25.875 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.18:01:25.875 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.18:01:25.875 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.18:01:25.875 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@350b1dc7
24-03-19.18:01:27.824 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1958ms)
24-03-19.18:01:27.824 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 10:01:27 GMT
24-03-19.18:01:27.824 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.18:01:27.824 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=781bad3517108424854141114e612889e84ca098203d209accb3836fe3a4b6;path=/;HttpOnly;Max-Age=1800
24-03-19.18:01:27.824 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.18:01:27.824 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: N/A
24-03-19.18:01:27.824 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.18:01:27.824 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.18:01:27.824 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.18:01:27.824 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.18:01:29.144 [http-nio-8091-exec-3] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.18:02:29.213 [http-nio-8091-exec-4] WARN  DefaultHandlerExceptionResolver - Ignoring exception, response committed already: org.springframework.web.context.request.async.AsyncRequestTimeoutException
24-03-19.18:02:29.213 [http-nio-8091-exec-4] WARN  DefaultHandlerExceptionResolver - Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]
24-03-19.18:02:29.213 [http-nio-8091-exec-4] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.18:47:37.245 [http-nio-8091-exec-8] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"你写首诗","role":"user"},{"content":"好的！以下是一首简单的诗：\n\n笑对人生如梦幻，\n花开花落几多般。\n春风吹过花瓣舞，\n阳光洒满大地间。","role":"system"},{"content":"你说的好","role":"user"}]
24-03-19.18:47:37.260 [http-nio-8091-exec-8] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.18:47:37.291 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.18:47:37.291 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.18:47:37.291 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 400
24-03-19.18:47:37.291 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.18:47:37.291 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.18:47:37.292 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.18:47:37.293 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@6409e69b
24-03-19.18:47:39.039 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1748ms)
24-03-19.18:47:39.040 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 10:47:39 GMT
24-03-19.18:47:39.040 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.18:47:39.040 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2760822217108452581612018ecd1842941ac5078f1929863e578307285500;path=/;HttpOnly;Max-Age=1800
24-03-19.18:47:39.040 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.18:47:39.040 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: N/A
24-03-19.18:47:39.040 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.18:47:39.040 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.18:47:39.040 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.18:47:39.040 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.18:47:40.286 [http-nio-8091-exec-9] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.18:47:50.434 [http-nio-8091-exec-10] INFO  ChatGPTAIServiceController - 流式问答请求开始，使用的模型：glm-4v，请求信息：[{"content":"你说的好","role":"user"},{"content":"以下是一首简单的诗：\n\n笑对人生如梦幻，\n花开花落几多般。\n春风吹过花瓣舞，\n阳光洒满大地间。</s>","role":"system"},{"content":"再来一首","role":"user"}]
24-03-19.18:47:50.435 [http-nio-8091-exec-10] INFO  ChatGPTAIServiceController - 流式问答请求处理，openid:o8cXL6LbN8VYAlQ8_PdmdFTLwsNw 请求模型:glm-4v
24-03-19.18:47:50.439 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> POST https://open.bigmodel.cn/api/paas/v4/chat/completions
24-03-19.18:47:50.439 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Type: application/json; charset=utf-8
24-03-19.18:47:50.439 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Content-Length: 395
24-03-19.18:47:50.439 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - Accept: text/event-stream
24-03-19.18:47:50.439 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - --> END POST
24-03-19.18:47:50.439 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截前的请求数据Request{method=POST, url=https://open.bigmodel.cn/api/paas/v4/chat/completions, headers=[Accept:text/event-stream]}
24-03-19.18:47:50.439 [OkHttp https://open.bigmodel.cn/...] INFO  OpenAiHTTPInterceptor  - 拦截后的请求数据Accept: text/event-stream
Authorization: ██
Content-Type: application/json
User-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)
,okhttp3.RequestBody$Companion$toRequestBody$2@59b507ee
24-03-19.18:47:51.569 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- 200 https://open.bigmodel.cn/api/paas/v4/chat/completions (1130ms)
24-03-19.18:47:51.570 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - date: Tue, 19 Mar 2024 10:47:51 GMT
24-03-19.18:47:51.570 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - content-type: text/event-stream;charset=UTF-8
24-03-19.18:47:51.570 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - set-cookie: acw_tc=2760822217108452708492304ecd185010324799a64a3e3ccc0d4e5e2f1dba;path=/;HttpOnly;Max-Age=1800
24-03-19.18:47:51.570 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - server: nginx/1.21.6
24-03-19.18:47:51.570 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - x-trace-id: 
24-03-19.18:47:51.570 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Origin
24-03-19.18:47:51.570 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Method
24-03-19.18:47:51.570 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - vary: Access-Control-Request-Headers
24-03-19.18:47:51.570 [OkHttp https://open.bigmodel.cn/...] INFO  OkHttpClient           - <-- END HTTP
24-03-19.18:47:52.951 [http-nio-8091-exec-1] INFO  AbstractChatService    - 流式问答请求完成，使用模型：glm-4v
24-03-19.20:57:15.750 [main            ] INFO  Application            - Starting Application using Java 17.0.9 with PID 10264 (D:\xuexi\javawed\Ideacode\chatgpt-data\chatgpt-data-app\target\classes started by 王宁 in D:\xuexi\javawed\Ideacode\chatgpt-data)
24-03-19.20:57:15.752 [main            ] INFO  Application            - No active profile set, falling back to 1 default profile: "default"
24-03-19.20:57:16.992 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port 8091 (http)
24-03-19.20:57:17.001 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-03-19.20:57:17.006 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-03-19.20:57:17.006 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/10.1.19]
24-03-19.20:57:17.070 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-03-19.20:57:17.070 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1260 ms
24-03-19.20:57:18.135 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-03-19.20:57:18.155 [main            ] INFO  TomcatWebServer        - Tomcat started on port 8091 (http) with context path ''
24-03-19.20:57:18.165 [main            ] INFO  Application            - Started Application in 3.112 seconds (process running for 4.066)
